import numpy.random as npr
import sys
import numpy
from collections import defaultdict
from SwingyMonkey import SwingyMonkey


#calculated mins and maxes values for 5000 iterations. will be used to define bins
seq_tree_min={'bot': 11, 'top': 211, 'dist': -115}
seq_tree_max={'bot': 140, 'top': 340, 'dist': 310}
seq_monkey_min={'vel': -47, 'bot': -44, 'top': 12}
seq_monkey_max={'vel': 18, 'bot': 364, 'top': 420}

learning_rate=0.05
discount_factor=0.9
#state_space_dict=defaultdict(float)

state_space=defaultdict(<type 'float'>, {((2, 2, 1, 5, 2, 2), 0): 0.5235341923745277, ((4, 4, 2, 1, 2, 2), 0): 0.0, ((5, 5, 4, 1, 2, 2), 0): 0.0, ((2, 2, 2, 4, 3, 3), 0): 0.1009764419309446, ((4, 4, 2, 3, 1, 1), 0): -0.25, ((3, 3, 2, 1, 2, 2), 0): -0.25, ((4, 4, 5, 2, 1, 1), 1): 0.15908713660820614, ((4, 4, 4, 3, 2, 2), 0): -5.7378102714714045e-05, ((2, 2, 3, 5, 3, 3), 0): -0.15504720489963575, ((4, 4, 4, 1, 1, 1), 0): -0.00045689062500000005, ((1, 1, 2, 1, 1, 1), 1): 0.5308213229340778, ((1, 1, 5, 2, 2, 2), True): 0.015533505242246106, ((5, 5, 4, 2, 1, 1), 1): 0.002549387834572771, ((5, 5, 2, 1, 1, 1), 0): -0.5, ((1, 1, 4, 3, 3, 3), 0): 0.20502285836640724, ((2, 2, 4, 2, 3, 3), 1): -0.026798696266233945, ((2, 2, 1, 4, 3, 3), 0): 0.1462223395805186, ((3, 3, 5, 5, 3, 3), 0): 0.07247358106925471, ((1, 1, 3, 1, 2, 2), 0): 0.4028298453059064, ((1, 1, 2, 4, 3, 3), 1): -3.843961803212085, ((5, 5, 3, 4, 4, 4), 0): 0.0, ((3, 3, 3, 4, 1, 1), 1): 0.26881313449888616, ((2, 2, 5, 5, 2, 2), 1): 0.10502550358128568, ((2, 2, 4, 4, 2, 2), 0): 0.1928542286994704, ((4, 4, 3, 3, 1, 1), 1): 0.012424037792891184, ((3, 3, 3, 2, 4, 4), 0): 0.04181577181271824, ((1, 1, 3, 4, 3, 3), 1): -0.5685207318012172, ((1, 1, 4, 4, 1, 1), True): 0.028395480053397277, ((3, 3, 3, 5, 1, 1), 0): -0.0006223656779009533, ((3, 3, 3, 5, 2, 2), 1): 0.2851840254741974, ((3, 3, 5, 3, 1, 1), 1): -0.0022233728138231035, ((4, 4, 2, 4, 3, 3), True): 0.1256525259583285, ((2, 2, 1, 3, 3, 3), True): 0.11895894515443563, ((2, 2, 4, 4, 1, 1), 0): -0.0014633497051820756, ((5, 5, 3, 1, 1, 1), 1): -0.0257208153221999, ((2, 2, 3, 4, 4, 4), 1): -2.7855873384799104, ((2, 2, 2, 3, 1, 1), 0): -0.5, ((2, 2, 3, 1, 2, 2), True): 0.015768216644529588, ((3, 3, 2, 2, 3, 3), 0): 0.4241544161171727, ((3, 3, 2, 2, 4, 4), 1): -0.5238360278463654, ((5, 5, 4, 3, 3, 3), True): 0.003645822912605685, ((1, 1, 4, 2, 1, 1), 1): 0.28963654920863424, ((3, 3, 5, 5, 4, 4), 0): -0.057175804146171696, ((1, 1, 5, 5, 2, 2), 0): 0.16140275011360153, ((1, 1, 3, 4, 1, 1), 0): 0.40335027153750785, ((1, 1, 2, 4, 4, 4), 0): -3.3257563442753697, ((5, 5, 2, 4, 3, 3), 0): 0.45061094503966787, ((2, 2, 2, 4, 1, 1), 0): 0.23808305013224207, ((3, 3, 1, 2, 3, 3), 0): 0.917232390613183, ((2, 2, 3, 2, 2, 2), 0): 0.21897698076236838, ((1, 1, 2, 5, 4, 4), 0): -0.4155430680885681, ((5, 5, 5, 3, 4, 4), 0): 2.169235021551504e-10, ((1, 1, 1, 2, 1, 1), 0): -0.030451398884155087, ((4, 4, 5, 5, 2, 2), 0): 0.18002446416904352, ((2, 2, 2, 5, 3, 3), 0): -0.476298685102262, ((2, 2, 3, 5, 1, 1), 0): -0.0007493265907637657, ((4, 4, 3, 2, 3, 3), 1): 0.18072439112084437, ((4, 4, 2, 1, 1, 1), 0): -0.5, ((4, 4, 5, 3, 3, 3), False): 0.1885345377145223, ((4, 4, 4, 5, 4, 4), 1): -0.07300886008334906, ((2, 2, 5, 3, 4, 4), 0): -0.03565724096998529, ((2, 2, 5, 1, 2, 2), 1): 0.10099727653584531, ((3, 3, 3, 5, 2, 2), 0): -0.021736398389968537, ((2, 2, 3, 5, 4, 4), 1): -0.32980621577469016, ((3, 3, 5, 3, 2, 2), 1): 0.002966311822863949, ((4, 4, 4, 2, 2, 2), 1): 0.006626183823864134, ((1, 1, 2, 2, 2, 2), 0): 0.49229195241743756, ((4, 4, 4, 4, 4, 4), 0): -0.9961136671290927, ((4, 4, 3, 3, 3, 3), True): 0.17440824767204205, ((1, 1, 1, 4, 3, 3), 0): -1.688785623687996, ((2, 2, 5, 4, 3, 3), 0): 0.07191390620081049, ((5, 5, 2, 3, 2, 2), 0): -0.25047375944769534, ((5, 5, 5, 2, 1, 1), 0): -0.49997326289265415, ((3, 3, 3, 2, 3, 3), 1): -0.03933031137537522, ((3, 3, 5, 4, 3, 3), 0): 0.1524909451231968, ((1, 1, 3, 3, 3, 3), 1): -0.0867113411312557, ((5, 5, 4, 5, 2, 2), 0): 0.009764582449517271, ((3, 3, 3, 5, 3, 3), 0): 0.33450509784373184, ((3, 3, 5, 3, 3, 3), True): 0.12264843969239579, ((1, 1, 3, 3, 2, 2), 0): 0.4090115696346115, ((4, 4, 2, 4, 1, 1), 1): -0.2471311729879606, ((1, 1, 5, 4, 2, 2), True): 0.012530074596690114, ((5, 5, 1, 3, 3, 3), True): 0.0030401351971046796, ((1, 1, 5, 3, 4, 4), 0): 0.09282625573709627, ((2, 2, 5, 4, 2, 2), 0): 0.14797993904519405, ((3, 3, 1, 1, 2, 2), 0): -0.15370769343750001, ((5, 5, 4, 3, 4, 4), 0): 0.0035297434050281812, ((3, 3, 2, 2, 1, 1), 0): -0.23687416055566368, ((4, 4, 4, 5, 1, 1), 0): 0.0, ((1, 1, 4, 2, 3, 3), True): 0.004960705348782818, ((2, 2, 2, 2, 2, 2), 0): -0.3806847118868743, ((4, 4, 3, 4, 2, 2), 0): -0.05162003998368446, ((3, 3, 2, 3, 3, 3), 0): 0.5616920973826182, ((4, 4, 5, 4, 1, 1), 0): 0.1430119130295088, ((2, 2, 4, 3, 2, 2), 0): 0.1764530420918836, ((5, 5, 2, 4, 4, 4), 0): -0.24956824676302103, ((1, 1, 2, 5, 2, 2), 0): 0.42840808035633926, ((4, 4, 1, 4, 2, 2), 0): 0.8663837211780375, ((1, 1, 2, 3, 2, 2), True): 0.15618436167346442, ((1, 1, 2, 3, 1, 1), 0): -0.24775000000000003, ((3, 3, 3, 3, 1, 1), 0): 0.11464737274375292, ((2, 2, 4, 5, 3, 3), 1): -0.11500535983768655, ((4, 4, 5, 3, 1, 1), 0): -7.785282762320539e-05, ((4, 4, 1, 5, 2, 2), 0): 0.13911642384971612, ((1, 1, 1, 3, 2, 2), 0): 0.8231993157690644, ((1, 1, 1, 1, 2, 2), 1): 0.6364212155148574, ((2, 2, 2, 1, 1, 1), 1): 0.27522099793091703, ((4, 4, 5, 2, 3, 3), 0): 0.1686142402819024, ((2, 2, 4, 1, 1, 1), 0): -0.5, ((2, 2, 1, 2, 2, 2), 0): -0.20320894343749998, ((4, 4, 5, 3, 4, 4), 0): 0.02507596986693722, ((4, 4, 1, 1, 2, 2), 1): 0.24399196287732772, ((4, 4, 1, 2, 3, 3), True): 0.19329290618155243, ((4, 4, 4, 2, 3, 3), 1): 0.2150346676767884, ((2, 2, 5, 3, 2, 2), True): 0.009613296695499983, ((2, 2, 3, 4, 2, 2), 0): 0.28400327638349565, ((2, 2, 5, 5, 4, 4), 0): -0.031314420985218756, ((4, 4, 1, 5, 3, 3), 0): 0.7697442517856694, ((2, 2, 3, 3, 4, 4), 1): -0.8449808935227577, ((5, 5, 2, 5, 2, 2), 1): -0.03512416648858459, ((1, 1, 3, 3, 1, 1), True): 0.017127784389835678, ((5, 5, 2, 3, 1, 1), 1): -0.050004145259805774, ((4, 4, 1, 4, 3, 3), 0): 0.8419890869291848, ((1, 1, 3, 1, 1, 1), 0): -0.5, ((2, 2, 2, 1, 2, 2), 0): -0.23564623570453053, ((4, 4, 3, 3, 3, 3), 0): 0.36536389942389813, ((3, 3, 2, 4, 2, 2), 0): 0.041528101079638155, ((1, 1, 4, 4, 2, 2), 0): 0.286794893710819, ((4, 4, 3, 3, 4, 4), 1): -0.9433558079072797, ((2, 2, 3, 1, 1, 1), 0): -0.9283881904302134, ((5, 5, 4, 4, 2, 2), 1): -0.006032208903573231, ((2, 2, 5, 2, 1, 1), 1): 0.1514110945491677, ((2, 2, 3, 4, 1, 1), 0): 0.014533401203331889, ((4, 4, 3, 4, 4, 4), 0): -2.799007637252777, ((3, 3, 1, 4, 2, 2), 0): 0.6607824382638638, ((3, 3, 5, 4, 4, 4), 1): -0.34573098859387474, ((2, 2, 4, 5, 4, 4), 0): -0.5, ((3, 3, 4, 3, 1, 1), 0): -0.0005271434150524482, ((5, 5, 3, 5, 2, 2), 1): -0.03974782089426001, ((1, 1, 2, 3, 4, 4), 1): -0.537105916987905, ((4, 4, 3, 5, 2, 2), 1): -0.02047158440879508, ((2, 2, 1, 5, 3, 3), 0): -0.735682475778978, ((2, 2, 2, 4, 4, 4), 0): -4.1642476594282725, ((3, 3, 4, 4, 1, 1), 0): -0.002277539368253702, ((3, 3, 5, 2, 2, 2), 0): 0.18234176970072577, ((4, 4, 2, 5, 4, 4), 0): -0.7622471351223621, ((5, 5, 3, 2, 3, 3), 0): -8.929318107946165e-05, ((1, 1, 1, 5, 1, 1), 0): 0.35260930739540697, ((4, 4, 2, 2, 1, 1), 0): 0.0, ((3, 3, 4, 5, 3, 3), 0): 0.10293308352904544, ((3, 3, 1, 2, 2, 2), 1): 0.8089863978806253, ((1, 1, 5, 2, 1, 1), 1): 0.21754707462944214, ((3, 3, 1, 5, 2, 2), 0): 0.5800930509923584, ((5, 5, 3, 4, 1, 1), 1): -0.000555212296367968, ((1, 1, 4, 3, 2, 2), 0): 0.27251414670798546, ((3, 3, 3, 3, 4, 4), 0): -0.36506468807865916, ((3, 3, 3, 1, 2, 2), 1): -0.012145789965989116, ((1, 1, 4, 5, 1, 1), 0): 0.12461866026478012, ((4, 4, 5, 4, 3, 3), 0): 0.17633154459994022, ((5, 5, 2, 2, 1, 1), 1): -0.248229702265625, ((2, 2, 2, 3, 3, 3), 1): -1.5923214238888894, ((4, 4, 3, 1, 1, 1), 1): 0.24997914717471642, ((1, 1, 2, 1, 2, 2), 0): -0.034864656738343325, ((3, 3, 3, 4, 3, 3), 0): 0.3596237509931188, ((2, 2, 4, 4, 3, 3), 0): 0.09236978941507226, ((3, 3, 1, 3, 3, 3), 0): 0.8646167587701509, ((3, 3, 3, 4, 2, 2), 1): 0.13197225813831034, ((2, 2, 4, 3, 4, 4), 0): -0.2551992257391021, ((2, 2, 3, 2, 3, 3), 1): -0.15228003960043146, ((5, 5, 1, 4, 3, 3), True): 0.03398119470343937, ((5, 5, 1, 2, 3, 3), 0): 0.7270731764645195, ((4, 4, 2, 2, 2, 2), 0): -0.2458940847866406, ((3, 3, 2, 4, 4, 4), 1): -4.326034849796044, ((5, 5, 4, 2, 2, 2), 1): 0.054409237278508264, ((1, 1, 5, 5, 3, 3), 0): 0.09763349937931928, ((5, 5, 3, 3, 3, 3), 0): 0.22419253235925246, ((2, 2, 3, 3, 3, 3), 0): 0.1716130488496687, ((2, 2, 2, 2, 1, 1), 0): -0.4594356735368753, ((3, 3, 4, 2, 2, 2), 0): 0.21648921685819023, ((1, 1, 3, 2, 4, 4), 0): 0.046090793673609395, ((5, 5, 2, 1, 2, 2), 1): 0.0, ((4, 4, 2, 4, 4, 4), 0): -3.8289811650541155, ((4, 4, 2, 5, 3, 3), True): 0.02238309036490914, ((2, 2, 5, 4, 4, 4), 1): -0.6454954467663095, ((1, 1, 3, 5, 1, 1), 0): 0.3621909929008733, ((4, 4, 3, 5, 3, 3), 1): 0.30200266811524956, ((4, 4, 3, 2, 2, 2), 1): 0.2946239663127085, ((4, 4, 5, 5, 3, 3), 0): 0.17523486896309562, ((5, 5, 1, 4, 2, 2), 0): 0.22708404822818634, ((3, 3, 5, 4, 1, 1), 1): 0.14967735857304787, ((2, 2, 2, 5, 2, 2), 0): -0.13800568078901893, ((4, 4, 2, 2, 3, 3), 0): 0.6082510766661545, ((4, 4, 3, 4, 1, 1), 1): 0.03913328896069062, ((3, 3, 2, 2, 2, 2), 1): 0.41035153252233025, ((3, 3, 2, 5, 3, 3), 1): 0.45846920681699876, ((4, 4, 2, 3, 3, 3), 0): 0.5395879497400076, ((1, 1, 1, 3, 1, 1), 0): -0.07670969551521634, ((1, 1, 2, 2, 3, 3), 0): 0.07412182304260007, ((1, 1, 2, 2, 4, 4), 1): -0.147644899704731, ((2, 2, 5, 2, 2, 2), True): -0.0057433705499767, ((5, 5, 2, 4, 2, 2), 1): -0.9865123311994419, ((3, 3, 4, 1, 1, 1), 1): 0.22532889466300413, ((1, 1, 3, 4, 4, 4), 0): -0.479528999956423, ((1, 1, 1, 2, 3, 3), 0): 0.16068833510794092, ((3, 3, 3, 3, 2, 2), 1): 0.3250325414070322, ((3, 3, 3, 2, 2, 2), 1): 0.2862853099077828, ((2, 2, 5, 4, 4, 4), 0): -0.28515034053888366, ((2, 2, 1, 4, 2, 2), True): 0.37374340984400894, ((3, 3, 5, 4, 2, 2), 0): 0.16954323137327681, ((3, 3, 3, 5, 4, 4), 0): -0.7290252866366096, ((2, 2, 1, 3, 2, 2), 0): 0.053913858089473854, ((3, 3, 5, 3, 4, 4), 1): -0.07488229970584584, ((5, 5, 1, 3, 4, 4), 0): 0.30109629652238384, ((5, 5, 5, 3, 1, 1), 0): 4.04252935818456e-07, ((4, 4, 1, 3, 2, 2), 0): 0.85353565306115, ((1, 1, 3, 5, 2, 2), 0): 0.39855233527521916, ((3, 3, 4, 1, 2, 2), 0): -0.001661643636915286, ((3, 3, 2, 4, 1, 1), 0): -0.4739189557111907, ((1, 1, 5, 3, 2, 2), True): 0.005561788148948982, ((2, 2, 5, 4, 1, 1), 0): -0.001661705648061105, ((3, 3, 3, 4, 4, 4), 0): -1.8475005171103156, ((2, 2, 4, 4, 4, 4), 0): -1.105282440845256, ((5, 5, 2, 2, 4, 4), 0): 0.0015664424815231928, ((3, 3, 5, 1, 1, 1), 0): -0.5000010990431664, ((4, 4, 4, 3, 4, 4), 0): -0.10739785902905517, ((3, 3, 3, 2, 1, 1), 1): 0.2547603225421883, ((5, 5, 3, 3, 1, 1), 0): -0.0009871875, ((2, 2, 2, 2, 3, 3), 0): 0.23916784035801036, ((5, 5, 1, 2, 2, 2), 0): -0.25, ((3, 3, 2, 3, 2, 2), 0): -0.21672341238751208, ((1, 1, 3, 3, 4, 4), 0): -0.04201944324140508, ((1, 1, 1, 1, 2, 2), 0): -0.24977555037240948, ((1, 1, 5, 4, 3, 3), 0): 0.13174120066848383, ((2, 2, 3, 2, 4, 4), 1): -0.19410077856213953, ((3, 3, 2, 1, 1, 1), 0): -0.5, ((4, 4, 4, 2, 1, 1), 1): -0.0016435596942676691, ((1, 1, 2, 5, 1, 1), 0): 0.4678669818328078, ((1, 1, 3, 5, 3, 3), 0): -0.06668409976522821, ((3, 3, 1, 3, 2, 2), 1): 0.6219493699291336, ((2, 2, 4, 5, 2, 2), 1): -0.0025863479336805744, ((1, 1, 5, 3, 3, 3), True): 0.1162224625946222, ((2, 2, 2, 5, 4, 4), 0): -2.013574642321549, ((2, 2, 4, 2, 2, 2), 0): 0.18122788145485225, ((3, 3, 1, 5, 3, 3), 1): 0.6970254828999491, ((2, 2, 4, 3, 1, 1), 1): 0.012229468771226621, ((1, 1, 1, 3, 3, 3), 0): 0.7912470091103162, ((5, 5, 2, 5, 3, 3), 0): 0.09057699169439096, ((1, 1, 2, 2, 1, 1), 0): -0.21400829227063023, ((4, 4, 2, 4, 2, 2), 1): 0.4375610524791106, ((5, 5, 5, 3, 2, 2), 0): 0.022421338531391735, ((4, 4, 4, 4, 3, 3), 0): 0.22859254447225796, ((4, 4, 2, 2, 4, 4), 0): 0.14616316558663306, ((4, 4, 5, 2, 2, 2), 0): -7.447767932442203e-07, ((1, 1, 2, 3, 3, 3), 0): -0.06821815937465078, ((4, 4, 5, 5, 4, 4), 0): -0.029592814806935014, ((4, 4, 1, 2, 2, 2), 1): 0.8839082484087051, ((3, 3, 3, 1, 1, 1), 1): 0.24457120355239284, ((2, 2, 2, 3, 4, 4), 1): -2.8926414008571384, ((5, 5, 4, 4, 1, 1), 0): -4.8576233045873876e-05, ((2, 2, 1, 1, 1, 1), 0): -0.25, ((5, 5, 4, 3, 2, 2), 0): -0.00022342970345690688, ((4, 4, 4, 4, 2, 2), 0): 0.05639647498166719, ((3, 3, 4, 3, 3, 3), True): 0.027920848260753764, ((1, 1, 4, 3, 2, 2), True): 0.06414255512400074, ((5, 5, 5, 3, 3, 3), 0): 0.03807383496508645, ((1, 1, 4, 4, 3, 3), 0): 0.12956172190451992, ((1, 1, 4, 4, 4, 4), 1): -0.5360452921445489, ((4, 4, 1, 4, 4, 4), 0): -1.4970651700398871, ((4, 4, 5, 4, 2, 2), 1): 0.17335230252307443, ((3, 3, 2, 4, 3, 3), 0): 0.4996028512987851, ((4, 4, 2, 3, 2, 2), 1): 0.5382538664454741, ((4, 4, 5, 3, 2, 2), 0): 0.007740687759857469, ((4, 4, 4, 3, 3, 3), True): 0.0604972508834254, ((4, 4, 4, 1, 2, 2), 1): 0.24876362495944607, ((3, 3, 2, 3, 4, 4), 0): -2.1262359557695625, ((3, 3, 5, 2, 3, 3), True): -0.0031218734003156043, ((1, 1, 4, 1, 1, 1), 1): 0.349544537622513, ((2, 2, 3, 2, 1, 1), 0): -0.4620984362467062, ((4, 4, 3, 3, 2, 2), 1): 0.28583359024478083, ((4, 4, 2, 3, 4, 4), 1): -2.605048496359101, ((2, 2, 4, 2, 1, 1), 1): 0.21571240125302263, ((3, 3, 4, 2, 1, 1), 0): -0.4646549386404684, ((1, 1, 1, 1, 1, 1), 1): 0.7019308729366548, ((1, 1, 2, 4, 2, 2), 0): 0.5858056959219161, ((1, 1, 5, 5, 4, 4), 0): 1.8049314400940056e-05, ((4, 4, 4, 3, 1, 1), 0): 0.0, ((2, 2, 2, 2, 4, 4), 0): -0.48715590702270684, ((5, 5, 4, 4, 4, 4), 0): 0.0, ((3, 3, 5, 2, 1, 1), 0): -0.4669632202605762, ((5, 5, 3, 2, 2, 2), 0): -0.030097552052080596, ((3, 3, 2, 5, 4, 4), 1): -0.5542255888743559, ((4, 4, 1, 4, 2, 2), True): 0.03518849980183392, ((3, 3, 4, 5, 2, 2), 0): 0.23892536681399948, ((2, 2, 3, 1, 2, 2), 0): 0.2652660538159212, ((1, 1, 4, 1, 2, 2), 0): 0.3254786397722843, ((2, 2, 5, 3, 1, 1), 1): -0.0006713828118048781, ((1, 1, 1, 4, 2, 2), 0): 0.7953493623124944, ((1, 1, 4, 3, 1, 1), 0): 0.2880710597782987, ((2, 2, 2, 4, 3, 3), 1): -1.7669038332091693, ((2, 2, 2, 3, 2, 2), 1): 0.40329908397323533, ((4, 4, 5, 2, 1, 1), 0): -0.5, ((1, 1, 3, 2, 1, 1), 1): 0.4140147281469458, ((2, 2, 2, 4, 2, 2), 0): 0.3891347682825237, ((1, 1, 1, 5, 3, 3), 1): -0.36585594871235316, ((2, 2, 3, 5, 2, 2), 1): 0.3107362355385517, ((5, 5, 3, 2, 1, 1), 0): -0.011250000000000001, ((2, 2, 5, 3, 3, 3), False): 0.1280199482088568, ((2, 2, 3, 5, 3, 3), 1): -0.21610422008306432, ((1, 1, 4, 4, 1, 1), 0): 0.31020682477917283, ((1, 1, 2, 1, 1, 1), 0): -0.2148340523662502, ((1, 1, 5, 2, 2, 2), 0): 0.24467323334272195, ((2, 2, 1, 3, 1, 1), 0): -0.25, ((1, 1, 4, 5, 3, 3), 0): 0.02657549785363397, ((1, 1, 1, 2, 2, 2), True): 0.10000534870843375, ((1, 1, 5, 4, 3, 3), True): 0.021724746297248625, ((1, 1, 1, 5, 2, 2), 0): 0.789240148721199, ((3, 3, 5, 5, 3, 3), 1): -0.01308405710321583, ((2, 2, 3, 3, 4, 4), 0): -0.6525423124140313, ((5, 5, 4, 4, 1, 1), 1): 0.003972826960649918, ((3, 3, 5, 5, 2, 2), 0): -0.004066471177086897, ((3, 3, 3, 4, 1, 1), 0): -0.04576876912144809, ((2, 2, 4, 4, 2, 2), 1): -0.024793627980682326, ((1, 1, 3, 4, 3, 3), 0): -0.3493902825026821, ((3, 3, 4, 2, 3, 3), 0): 0.22055343617581358, ((5, 5, 4, 2, 3, 3), 1): 0.06946423929115576, ((4, 4, 2, 5, 2, 2), 1): -0.24945148524445704, ((2, 2, 3, 4, 4, 4), 0): -2.210367619823518, ((4, 4, 3, 2, 1, 1), 1): 0.12653799785686864, ((3, 3, 2, 2, 3, 3), 1): -0.1829715571836072, ((3, 3, 2, 5, 2, 2), 1): -0.03378995995942415, ((2, 2, 2, 5, 1, 1), 0): 0.25783735028403987, ((5, 5, 4, 3, 3, 3), 0): 0.08719161996579093, ((2, 2, 3, 3, 1, 1), 0): 0.24926063888355848, ((3, 3, 2, 3, 1, 1), 1): -0.026926015669248498, ((2, 2, 4, 2, 3, 3), 0): 0.1764921804255063, ((1, 1, 2, 4, 4, 4), 1): -3.3669478826554315, ((5, 5, 3, 1, 2, 2), 0): -4.4207556679687514e-05, ((4, 4, 2, 3, 4, 4), 0): -2.511284543042719, ((4, 4, 4, 5, 2, 2), 1): -2.950386037010806e-05, ((1, 1, 4, 2, 2, 2), 0): 0.28590790879962863, ((1, 1, 5, 2, 3, 3), True): 0.005735769247358284, ((4, 4, 5, 5, 2, 2), 1): -5.90581098887897e-05, ((1, 1, 1, 4, 1, 1), 0): 0.719650047426269, ((4, 4, 3, 4, 3, 3), True): 0.07825025474466887, ((4, 4, 3, 2, 3, 3), 0): 0.014454026990190478, ((4, 4, 5, 3, 3, 3), True): 0.16546584062866318, ((5, 5, 5, 2, 3, 3), 0): 0.008362825151058408, ((5, 5, 2, 4, 1, 1), 0): -0.4742564402499805, ((2, 2, 5, 2, 3, 3), 1): -0.002027913557017073, ((3, 3, 4, 3, 4, 4), 1): -0.7122299692103269, ((2, 2, 5, 3, 4, 4), 1): -0.08846994264010712, ((2, 2, 5, 2, 3, 3), 0): 0.1554587923484656, ((4, 4, 1, 3, 3, 3), 0): 0.7982845011966153, ((1, 1, 2, 2, 2, 2), 1): -0.11404911720542735, ((1, 1, 2, 5, 3, 3), 1): -0.898897017415, ((4, 4, 4, 4, 4, 4), 1): -2.1145313299831194, ((1, 1, 3, 3, 4, 4), 1): -0.12526632103787744, ((2, 2, 3, 3, 2, 2), 0): 0.24209847184837754, ((4, 4, 4, 5, 3, 3), 0): 0.22501215569074517, ((3, 3, 3, 2, 3, 3), 0): 0.2990516382044941, ((1, 1, 1, 3, 2, 2), True): 0.33020064696309176, ((3, 3, 3, 5, 3, 3), 1): -0.004347946626207949, ((4, 4, 1, 5, 3, 3), True): 0.03804195730974672, ((1, 1, 3, 3, 2, 2), True): 0.07524123491346855, ((1, 1, 3, 2, 2, 2), True): 0.02967541317657383, ((1, 1, 5, 4, 2, 2), 0): 0.20916630305185616, ((1, 1, 3, 5, 4, 4), 0): -0.0005002747417784182, ((5, 5, 4, 3, 2, 2), 1): 0.050372327905235555, ((2, 2, 3, 4, 3, 3), 1): -0.8507582162764511, ((3, 3, 1, 1, 2, 2), 1): 0.12986735885266598, ((3, 3, 2, 2, 1, 1), 1): -0.45825941920785135, ((5, 5, 2, 2, 2, 2), 0): -0.25, ((2, 2, 5, 5, 3, 3), 0): 0.04366799630005261, ((1, 1, 2, 4, 1, 1), 0): 0.5447015320132511, ((2, 2, 2, 2, 2, 2), 1): 0.26061887902762026, ((4, 4, 3, 1, 2, 2), 0): -0.00048093750000000003, ((1, 1, 5, 1, 1, 1), 0): -0.5, ((2, 2, 1, 1, 2, 2), 1): 0.1687867034029365, ((4, 4, 3, 5, 4, 4), 0): -0.5807914012253088, ((1, 1, 1, 5, 3, 3), 0): -0.1965161048178773, ((5, 5, 2, 3, 2, 2), 1): -0.034398605877970514, ((1, 1, 2, 3, 2, 2), 0): 0.6069183276991222, ((3, 3, 5, 1, 2, 2), 0): 0.08482856245371047, ((3, 3, 3, 3, 1, 1), 1): -0.0009119372264662312, ((2, 2, 4, 3, 3, 3), 1): -0.10978372646081436, ((2, 2, 4, 5, 3, 3), 0): -0.06744980297435904, ((4, 4, 5, 3, 1, 1), 1): 0.14721476496770405, ((5, 5, 3, 3, 2, 2), 0): -0.0028424695758872587, ((3, 3, 1, 4, 3, 3), True): -0.19902276601872435, ((5, 5, 5, 4, 2, 2), 1): 0.02987269688111573, ((3, 3, 4, 4, 3, 3), 1): -0.2562966266489186, ((3, 3, 4, 3, 2, 2), 1): 0.02568260569956035, ((3, 3, 4, 4, 2, 2), 0): -0.056617738167043956, ((2, 2, 2, 1, 1, 1), 0): -0.9255771022581671, ((5, 5, 1, 3, 3, 3), 0): 0.7828026387947995, ((3, 3, 3, 3, 3, 3), 0): 0.3332518130107812, ((4, 4, 5, 3, 4, 4), 1): -0.1368774018170299, ((4, 4, 2, 3, 1, 1), 1): -0.027964344729923263, ((4, 4, 1, 2, 3, 3), 0): 0.7700734356262937, ((3, 3, 2, 1, 2, 2), 1): 0.24754974376742647, ((2, 2, 4, 5, 4, 4), 1): -0.6632020006629302, ((4, 4, 4, 3, 2, 2), 1): 0.20915370097660788, ((2, 2, 5, 5, 4, 4), 1): -0.03520850254334837, ((2, 2, 4, 3, 2, 2), 1): 0.03963561386447326, ((5, 5, 2, 5, 2, 2), 0): -0.017423894293157535, ((4, 4, 4, 1, 1, 1), 1): -0.0003824496280282211, ((5, 5, 4, 2, 1, 1), 0): -0.5, ((5, 5, 2, 3, 1, 1), 0): -0.25, ((1, 1, 3, 1, 1, 1), 1): 0.39777839484800626, ((5, 5, 2, 1, 1, 1), 1): -0.013107231907387119, ((2, 2, 4, 4, 1, 1), 1): 0.242616055322948, ((3, 3, 2, 4, 2, 2), 1): 0.4091030793223714, ((3, 3, 5, 5, 4, 4), 1): -0.07983418626474006, ((1, 1, 4, 3, 3, 3), True): -0.00351723805908826, ((1, 1, 4, 4, 2, 2), True): 0.02426291509703197, ((5, 5, 1, 3, 2, 2), 0): -0.25, ((2, 2, 3, 1, 1, 1), 1): 0.26433895123721124, ((2, 2, 1, 4, 3, 3), 1): -1.5386464398667832, ((5, 5, 1, 5, 3, 3), 0): 0.36054692419506296, ((2, 2, 5, 2, 1, 1), 0): -0.4651650776810167, ((1, 1, 2, 4, 3, 3), 0): -2.3086344917468047, ((1, 1, 3, 4, 2, 2), True): 0.06798770156240799, ((3, 3, 2, 1, 3, 3), 0): 0.0028232204815059805, ((4, 4, 3, 3, 1, 1), 0): -0.00048093750000000003, ((3, 3, 3, 2, 4, 4), 1): -0.18452520661755115, ((3, 3, 5, 4, 4, 4), 0): -0.2653741167673779, ((4, 4, 4, 5, 4, 4), 0): -0.06329429119574087, ((1, 1, 2, 3, 4, 4), 0): -0.6202487772815584, ((3, 3, 5, 3, 1, 1), 0): 0.17155403056334767, ((4, 4, 2, 4, 3, 3), 0): 0.4762434716778071, ((2, 2, 1, 5, 3, 3), 1): 0.28600748149065386, ((5, 5, 3, 4, 2, 2), 1): -0.03742558207031112, ((1, 1, 3, 4, 4, 4), 1): -0.5908872967339656, ((5, 5, 3, 1, 1, 1), 0): -0.5, ((2, 2, 2, 4, 4, 4), 1): -4.997631028162427, ((2, 2, 2, 3, 1, 1), 1): -0.28955416144785506, ((3, 3, 3, 4, 2, 2), 0): 0.29350982379470864, ((3, 3, 2, 2, 4, 4), 0): -0.7130588989381843, ((1, 1, 4, 2, 1, 1), 0): -0.5, ((2, 2, 4, 1, 2, 2), 1): 0.00774734910997091, ((1, 1, 3, 4, 1, 1), True): 0.0770042209166726, ((3, 3, 1, 2, 2, 2), 0): -0.15851874738431354, ((1, 1, 5, 2, 1, 1), 0): -0.49219679107222664, ((5, 5, 5, 5, 2, 2), 0): 0.004125374650368845, ((2, 2, 3, 2, 2, 2), 1): 0.05092645944860459, ((5, 5, 3, 4, 1, 1), 0): -0.011250000000000001, ((1, 1, 2, 5, 4, 4), 1): -0.4521410209019108, ((3, 3, 3, 3, 4, 4), 1): -0.5054958923851837, ((1, 1, 4, 5, 2, 2), 0): 0.2987766251958237, ((1, 1, 1, 2, 1, 1), 1): 0.8043223655861079, ((2, 2, 2, 5, 3, 3), 1): 0.006204658819362481, ((2, 2, 2, 3, 3, 3), 0): 0.11249333423746805, ((4, 4, 2, 1, 1, 1), 1): -0.2375, ((5, 5, 2, 3, 4, 4), 1): 0.0, ((4, 4, 1, 3, 4, 4), 0): 0.48355779442256464, ((2, 2, 5, 1, 2, 2), 0): -3.5914154395959066e-05, ((2, 2, 4, 4, 3, 3), 1): -0.336296872718566, ((2, 2, 3, 5, 4, 4), 0): -0.2750745106644791, ((3, 3, 5, 3, 2, 2), 0): 0.17037875878137562, ((4, 4, 4, 2, 2, 2), 0): 0.2267471052817415, ((3, 3, 1, 3, 3, 3), True): 0.07443267408369907, ((5, 5, 2, 4, 4, 4), 1): -0.2475339121382732, ((1, 1, 1, 4, 3, 3), 1): -3.4934087962001863, ((2, 2, 5, 4, 3, 3), 1): -0.133957009330304, ((2, 2, 3, 2, 3, 3), 0): 0.20224687148713777, ((5, 5, 5, 2, 1, 1), 1): 0.0032434242802603843, ((5, 5, 1, 4, 3, 3), 0): 0.6988617592824973, ((3, 3, 5, 4, 3, 3), 1): -0.014672912393010364, ((4, 4, 2, 2, 2, 2), 1): 0.576252993345584, ((1, 1, 3, 3, 3, 3), 0): 0.19344144168014, ((5, 5, 4, 5, 2, 2), 1): -0.00020358952412822376, ((5, 5, 4, 5, 1, 1), 0): 0.0, ((3, 3, 5, 3, 3, 3), False): 0.16454773547808524, ((4, 4, 2, 4, 1, 1), 0): -0.022418437500000003, ((2, 2, 2, 2, 1, 1), 1): 0.32205976252895724, ((3, 3, 4, 2, 2, 2), 1): 0.03742861770634846, ((3, 3, 1, 1, 3, 3), 0): 0.0022500000000000003, ((2, 2, 5, 4, 2, 2), 1): -0.018533768575337794, ((5, 5, 2, 1, 2, 2), 0): -0.25, ((4, 4, 2, 4, 4, 4), 1): -4.017935028646885, ((4, 4, 2, 5, 3, 3), 0): 0.4991929349656937, ((3, 3, 1, 4, 2, 2), True): 0.036228437717198234, ((1, 1, 4, 2, 3, 3), 0): 0.27007558625727784, ((4, 4, 3, 2, 2, 2), 0): -0.0011440397800120171, ((3, 3, 5, 4, 1, 1), 0): -0.0006151312381759576, ((3, 3, 4, 4, 4, 4), 1): -2.2652225629648077, ((4, 4, 3, 4, 2, 2), 1): 0.2868520529142726, ((4, 4, 3, 4, 1, 1), 0): -0.012070435505600616, ((3, 3, 2, 3, 3, 3), 1): -0.11310211475979959, ((3, 3, 2, 5, 3, 3), 0): -0.32537515863227817, ((1, 1, 1, 3, 1, 1), 1): 0.7797335744036982, ((1, 1, 2, 2, 3, 3), 1): -0.5844075019154623, ((2, 2, 5, 2, 2, 2), 0): 0.16232258300799046, ((5, 5, 2, 3, 4, 4), 0): -0.24252611627539108, ((3, 3, 4, 1, 1, 1), 0): -0.5, ((1, 1, 2, 3, 1, 1), 1): 0.5349668982807605, ((5, 5, 5, 5, 3, 3), 0): 0.006259238676729497, ((4, 4, 1, 4, 4, 4), 1): -1.2615030677524808, ((3, 3, 4, 4, 4, 4), 0): -0.9444872519186825, ((3, 3, 3, 2, 2, 2), 0): -0.03210393702070395, ((2, 2, 5, 5, 2, 2), 0): -0.00232583112630982, ((2, 2, 1, 4, 2, 2), 0): 0.6579057764359248, ((4, 4, 5, 2, 3, 3), True): 0.0091797490448629, ((3, 3, 3, 5, 4, 4), 1): -0.10059886012088072, ((2, 2, 1, 3, 2, 2), 1): 0.509654586221575, ((2, 2, 1, 2, 2, 2), 1): 0.4866865975702144, ((4, 4, 2, 2, 3, 3), True): 0.1154574673219174, ((2, 2, 2, 3, 4, 4), 0): -2.491373091273757, ((4, 4, 1, 1, 2, 2), 0): -0.25, ((4, 4, 1, 3, 2, 2), True): 0.053312272443208054, ((4, 4, 4, 2, 3, 3), 0): 0.019028419734774357, ((2, 2, 5, 3, 2, 2), 0): 0.15536526173389276, ((4, 4, 5, 4, 4, 4), 0): -0.2329790312499247, ((3, 3, 2, 4, 1, 1), 1): -0.12051437108070856, ((2, 2, 3, 4, 2, 2), True): 0.020863086760520216, ((2, 2, 4, 4, 4, 4), 1): -2.330909106494114, ((5, 5, 2, 2, 3, 3), 0): -0.004922531308591117, ((1, 1, 3, 3, 1, 1), 0): 0.4098230096876847, ((4, 4, 1, 4, 3, 3), True): 0.45068125572792034, ((3, 3, 3, 2, 1, 1), 0): -0.5, ((2, 2, 2, 2, 3, 3), 1): -0.682383287927639, ((2, 2, 2, 1, 2, 2), 1): 0.3507073023587909, ((1, 1, 3, 5, 4, 4), 1): -0.5211914603439695, ((4, 4, 4, 4, 1, 1), 1): 0.00016362938895852981, ((1, 1, 3, 2, 3, 3), 0): 0.31824702157739626, ((2, 2, 3, 2, 4, 4), 0): 0.049665721957624184, ((4, 4, 3, 3, 4, 4), 0): -0.7618130800318679, ((5, 5, 4, 4, 2, 2), 0): 0.05729429524526066, ((1, 1, 3, 5, 3, 3), 1): -0.028070229536885014, ((2, 2, 4, 5, 2, 2), 0): 0.2287539155991695, ((2, 2, 3, 4, 1, 1), 1): 0.2796131675096954, ((2, 2, 4, 2, 2, 2), 1): 0.05115904759862423, ((4, 4, 3, 4, 4, 4), 1): -2.4675397315497536, ((2, 2, 4, 3, 1, 1), 0): 0.19792175057554615, ((2, 2, 4, 1, 1, 1), 1): 0.2504217617908759, ((1, 1, 1, 3, 3, 3), 1): -0.5827400966053291, ((3, 3, 4, 3, 1, 1), 1): 0.21535547370239372, ((1, 1, 2, 2, 1, 1), 1): 0.5512810247213565, ((5, 5, 3, 5, 2, 2), 0): -0.0003050265546596792, ((5, 5, 5, 3, 2, 2), 1): -6.25307405962976e-05, ((4, 4, 3, 5, 2, 2), 0): 0.30921143044301336, ((4, 4, 5, 5, 4, 4), 1): -0.046033801184288514, ((3, 3, 4, 4, 1, 1), 1): 0.21399087701980182, ((4, 4, 1, 2, 2, 2), 0): 0.0494196563597929, ((3, 3, 5, 2, 2, 2), 1): -0.0017409222105215262, ((3, 3, 3, 5, 1, 1), 1): 0.15658153897180346, ((4, 4, 2, 5, 4, 4), 1): -0.8133095643173359, ((5, 5, 3, 2, 3, 3), 1): 0.1368466366303129, ((5, 5, 5, 4, 3, 3), 0): 0.05896400165478994, ((1, 1, 5, 1, 2, 2), 0): 0.15024936295879604, ((4, 4, 4, 4, 2, 2), 1): 0.19621297650615985, ((3, 3, 4, 5, 3, 3), 1): -0.0766848681440038, ((3, 3, 4, 3, 3, 3), 0): 0.1967059521170709, ((5, 5, 3, 5, 3, 3), 0): 0.029592292772625567, ((5, 5, 5, 3, 3, 3), True): 0.0069257630128354815, ((1, 1, 4, 4, 3, 3), True): 0.004226643001282094, ((4, 4, 4, 2, 1, 1), 0): -0.5, ((2, 2, 5, 1, 1, 1), 0): 0.02063565879632906, ((4, 4, 5, 4, 2, 2), 0): 0.007294749466761797, ((3, 3, 3, 1, 2, 2), 0): 0.21102092750329504, ((3, 3, 2, 4, 3, 3), 1): -0.9311419056373966, ((4, 4, 2, 3, 2, 2), 0): -0.25, ((4, 4, 5, 3, 2, 2), 1): 0.1593154750651724, ((4, 4, 5, 4, 3, 3), True): 0.04037701312363246, ((5, 5, 2, 2, 2, 2), 1): 0.06805530431700746, ((5, 5, 2, 2, 1, 1), 0): -0.5, ((4, 4, 4, 3, 3, 3), 0): 0.2271886921697646, ((4, 4, 3, 1, 1, 1), 0): -0.5, ((4, 4, 4, 1, 2, 2), 0): -0.0008326711505055543, ((1, 1, 2, 1, 2, 2), 1): 0.5285353600252333, ((3, 3, 3, 4, 3, 3), 1): -0.20217330976729903, ((5, 5, 2, 3, 3, 3), 0): 0.3851789418859817, ((3, 3, 5, 2, 3, 3), 0): 0.17163224607044725, ((1, 1, 4, 1, 1, 1), 0): -0.42386505764209237, ((5, 5, 5, 4, 4, 4), 0): 4.083017387327168e-05, ((2, 2, 4, 3, 4, 4), 1): -0.3593906133853169, ((3, 3, 4, 2, 1, 1), 1): 0.2175492712319984, ((1, 1, 2, 4, 2, 2), True): 0.19074333004398142, ((2, 2, 2, 2, 4, 4), 1): -0.6000026234751445, ((5, 5, 4, 4, 3, 3), 0): 0.14898088109620264, ((3, 3, 2, 4, 4, 4), 0): -3.844829154639446, ((2, 2, 2, 4, 1, 1), 1): -0.35153498114303083, ((3, 3, 2, 5, 4, 4), 0): -0.4774845936200208, ((1, 1, 2, 1, 3, 3), 0): 0.077994398443795, ((1, 1, 5, 4, 4, 4), 0): 0.024443557006106315, ((2, 2, 2, 3, 2, 2), 0): -0.14004819567717078, ((4, 4, 3, 5, 3, 3), 0): -0.013098852184896738, ((1, 1, 5, 3, 1, 1), 0): 0.22863373182514377, ((1, 1, 3, 2, 1, 1), 0): -0.3814079064118555, ((2, 2, 2, 4, 2, 2), 1): 0.01411663547225368, ((2, 2, 2, 5, 2, 2), 1): 0.35860908488763277, ((3, 3, 2, 2, 2, 2), 0): -0.278010100049151, ((2, 2, 5, 3, 3, 3), True): 0.0730451829707191, ((5, 5, 4, 1, 1, 1), 1): 0.002294812734461839, ((4, 4, 2, 3, 3, 3), True): 0.17697970271511898, ((1, 1, 3, 4, 2, 2), 0): 0.43401533150638333, ((1, 1, 2, 2, 4, 4), 0): -0.0053868337809961165, ((5, 5, 2, 4, 2, 2), 0): -0.5492789995900447, ((2, 2, 1, 3, 1, 1), 1): 0.08817098062258043, ((3, 3, 4, 4, 3, 3), 0): 0.1943807315175665, ((1, 1, 1, 2, 2, 2), 0): 0.8086594918447972, ((4, 4, 3, 2, 4, 4), 0): 0.05261190941610653, ((5, 5, 1, 3, 2, 2), 1): 0.4080710126333389, ((3, 3, 3, 3, 2, 2), 0): -0.002864313942236865, ((2, 2, 1, 3, 3, 3), 0): 0.8988891291686462, ((3, 3, 5, 5, 2, 2), 1): 0.1305345190387493, ((3, 3, 5, 4, 2, 2), True): -0.004844943494264577, ((5, 5, 4, 3, 1, 1), 0): 1.1861998136689861e-05, ((3, 3, 5, 3, 4, 4), 0): -0.07996679561007512, ((4, 4, 5, 4, 4, 4), 1): -0.29088675415073206, ((4, 4, 4, 4, 3, 3), True): 0.055266724295111966, ((3, 3, 4, 2, 3, 3), 1): -0.005901254106641433, ((3, 3, 4, 1, 2, 2), 1): 0.21220916811614682, ((1, 1, 5, 3, 2, 2), 0): 0.22665445921097752, ((2, 2, 3, 5, 2, 2), 0): -0.053859338349692316, ((2, 2, 5, 4, 1, 1), 1): 0.11671130374836036, ((3, 3, 3, 4, 4, 4), 1): -2.209274390346672, ((4, 4, 5, 1, 2, 2), 0): 0.02796016331919625, ((5, 5, 5, 2, 2, 2), 0): 0.015338090505378049, ((2, 2, 5, 5, 3, 3), 1): -0.0992645522682514, ((4, 4, 2, 5, 2, 2), 0): 0.4072511278231814, ((4, 4, 4, 3, 4, 4), 1): -0.5491948143965768, ((4, 4, 3, 2, 1, 1), 0): -0.011250000000000001, ((3, 3, 2, 5, 2, 2), 0): 0.4101941163695104, ((5, 5, 4, 5, 3, 3), 0): 0.0036679229960629505, ((5, 5, 1, 2, 2, 2), 1): 0.6362869702570892, ((3, 3, 2, 3, 2, 2), 1): 0.4263674413864284, ((3, 3, 2, 3, 1, 1), 0): -0.25, ((5, 5, 3, 4, 2, 2), 0): -0.08136841701057747, ((2, 2, 1, 1, 2, 2), 0): -0.25, ((3, 3, 2, 1, 1, 1), 1): -0.2404018387974953, ((5, 5, 3, 3, 4, 4), 0): 1.0024770231187388e-07, ((3, 3, 1, 3, 2, 2), 0): -0.2030897602597527, ((1, 1, 5, 3, 3, 3), 0): 0.1792716281070252, ((4, 4, 4, 5, 2, 2), 0): 0.1991662720899097, ((2, 2, 2, 5, 4, 4), 1): -2.054484808903535, ((3, 3, 1, 5, 3, 3), 0): -0.14046223319526477, ((1, 1, 4, 2, 2, 2), True): 0.041165661682061164, ((1, 1, 5, 2, 3, 3), 0): 0.22872188391559684, ((4, 4, 3, 4, 3, 3), 0): 0.3026147147445007, ((5, 5, 3, 4, 3, 3), 0): 0.270300258450887, ((4, 4, 2, 4, 2, 2), 0): -0.6475514768802186, ((5, 5, 2, 4, 1, 1), 1): -0.2849385544216886, ((2, 2, 1, 4, 1, 1), 0): 0.04188358012820893, ((4, 4, 5, 2, 2, 2), 1): 0.1741210628946674, ((3, 3, 4, 3, 4, 4), 0): -0.2166602708492228, ((2, 2, 1, 1, 3, 3), 0): 0.00563148915314487, ((1, 1, 5, 4, 1, 1), 0): 0.19833726593801837, ((5, 5, 4, 2, 3, 3), 0): -0.00044069175136595063, ((4, 4, 1, 3, 3, 3), True): 0.3898403352784547, ((1, 1, 2, 3, 3, 3), 1): -1.3782581091473638, ((1, 1, 2, 5, 3, 3), 0): -0.9115205522853087, ((4, 4, 1, 1, 3, 3), 0): 0.02789984241916594, ((3, 3, 1, 4, 3, 3), 0): 0.26113634703347327, ((3, 3, 3, 1, 1, 1), 0): -0.5, ((5, 5, 1, 4, 4, 4), 0): 0.0640071842420756, ((2, 2, 3, 3, 2, 2), 1): 0.026405553769480707, ((5, 5, 4, 1, 1, 1), 0): -0.5, ((2, 2, 1, 2, 3, 3), 0): 0.31278797013076187, ((1, 1, 4, 4, 4, 4), 0): -0.038957689429746256, ((5, 5, 4, 2, 2, 2), 0): 0.002319216301880247, ((1, 1, 3, 2, 2, 2), 0): 0.36891338870786383, ((1, 1, 4, 3, 4, 4), 0): 0.05212252775100506, ((2, 2, 3, 4, 3, 3), 0): -0.31813957024321265, ((2, 2, 4, 5, 1, 1), 0): 0.08016587621578633, ((2, 2, 3, 3, 3, 3), 1): -0.5082285712298952, ((3, 3, 2, 3, 4, 4), 1): -2.1611493015885035, ((1, 1, 2, 4, 1, 1), True): 0.08342784465251338, ((2, 2, 3, 2, 1, 1), 1): 0.28284191509319717, ((2, 2, 2, 1, 3, 3), 0): 0.017206035003061025, ((4, 4, 3, 3, 2, 2), 0): -0.0021096461514143643, ((4, 4, 3, 1, 2, 2), 1): 0.14415068230637362, ((1, 1, 5, 1, 1, 1), 1): 0.007074891987350367, ((4, 4, 4, 4, 1, 1), 0): -2.5027003665960428e-05, ((2, 2, 4, 2, 1, 1), 0): -0.43253432724184415, ((4, 4, 3, 5, 4, 4), 1): -0.5005751832430344, ((1, 1, 1, 1, 1, 1), 0): -0.5, ((2, 2, 4, 3, 3, 3), 0): 0.14175748303115593, ((3, 3, 5, 2, 1, 1), 1): 0.16489324695068253, ((5, 5, 3, 3, 2, 2), 1): 0.11069258296610755, ((5, 5, 3, 2, 2, 2), 1): -0.05834934324047593, ((2, 2, 4, 1, 2, 2), 0): 0.22084481614578322, ((5, 5, 5, 4, 2, 2), 0): -0.00016209288914144967, ((3, 3, 4, 3, 2, 2), 0): 0.2065719332834263, ((5, 5, 2, 2, 3, 3), 1): 0.4047843965950307, ((3, 3, 4, 4, 2, 2), 1): 0.22317001775367695, ((3, 3, 4, 5, 2, 2), 1): -0.00732527165309032, ((3, 3, 4, 5, 1, 1), 0): 0.029159491865818017, ((2, 2, 3, 5, 1, 1), 1): 0.25730979412108695, ((2, 2, 5, 3, 1, 1), 0): 0.16366936247065492, ((1, 1, 1, 4, 2, 2), True): -0.23312248270534225, ((3, 3, 3, 3, 3, 3), 1): 0.004213608029142592})


nbins=5
prob_tryrandom=.001

class Learner:

    def __init__(self):
        self.last_state  = None
        self.last_action = None
        self.last_reward = None

    def reset(self):
        self.last_state  = None
        self.last_action = None
        self.last_reward = None



    def gen_bins(self, state, numbins):
         tree_bot=numpy.linspace(seq_tree_min['bot'], seq_tree_max['bot'], numbins)
         tree_top=numpy.linspace(seq_tree_min['top'], seq_tree_max['top'],numbins)
         tree_dist=numpy.linspace(seq_tree_min['dist'], seq_tree_max['dist'], numbins)
         mon_vel=numpy.linspace(seq_monkey_min['vel'], seq_monkey_max['vel'], numbins)
         mon_bot=numpy.linspace(seq_monkey_min['bot'], seq_monkey_max['bot'], numbins)
         mon_top=numpy.linspace(seq_monkey_min['top'], seq_monkey_max['top'], numbins)


        #find indices for each variable for a given state
         tree_bot_bin=numpy.digitize([state['tree']['bot']], tree_bot)
         tree_top_bin=numpy.digitize([state['tree']['top']], tree_top)
         tree_dist_bin=numpy.digitize([state['tree']['dist']], tree_dist)

         mon_vel_bin=numpy.digitize([state['monkey']['vel']], mon_vel)
         mon_bot_bin=numpy.digitize([state['monkey']['bot']], mon_bot)
         mon_top_bin=numpy.digitize([state['monkey']['top']], mon_top)

         return tuple([int(tree_bot_bin), int(tree_top_bin), int(tree_dist_bin), int(mon_vel_bin), int(mon_bot_bin), int(mon_top_bin)])
    

    def action_callback(self, state):
        '''Implement this function to learn things and take actions.
        Return 0 if you don't want to jump and 1 if you do.'''

        #keep track of all visited states and resultant outcomes

        #if this is the first run, there is no 'last state' and we can make a random move
        if self.last_state== None:
        # print state
        # print self.last_action
        # print tuple([learner.gen_bins(self.last_state, nbins), self.last_action])
            qval=0
            # qval= state_space_dict.get(tuple([learner.gen_bins(self.last_state, nbins), self.last_action]),0) +  self.last_reward + learning_rate*( discount_factor*max(state_space_dict.get(tuple([gen_bins(self.last_state, nbins), 0]), 0), state_space_dict.get(tuple([gen_bins(self.last_state, nbins), 1]), 0)) - state_space_dict[[gen_bins(self.last_state, nbins), self.last_action]])
            new_action=npr.rand() < 0.5

        # elif state_space_dict.get(tuple([learner.gen_bins(self.last_state, nbins), self.last_action]))==None or state_space_dict.get(tuple([learner.gen_bins(self.last_state, nbins), 1-self.last_action])) == None:
        #     #print "RAN1"
        #     qval= self.last_reward
        #     #print qval
        #     state_space_dict[tuple([learner.gen_bins(self.last_state, nbins), self.last_action])]=qval
        #     new_action=npr.rand() < 0.5


        else:
#            print "RAN2"
            #implement Q learning
            qval= state_space_dict[tuple([learner.gen_bins(self.last_state, nbins), self.last_action])] +  learning_rate*(self.last_reward + discount_factor*max(state_space_dict.get(tuple([learner.gen_bins(state, nbins), 0]), 0), state_space_dict.get(tuple([learner.gen_bins(state, nbins), 1]), 0)) - state_space_dict.get(tuple([learner.gen_bins(self.last_state, nbins), self.last_action])))
            #print [learner.gen_bins(self.last_state, 10), self.last_action]
            state_space_dict[tuple([learner.gen_bins(self.last_state, nbins), self.last_action])]=qval
            #print qval
    #        print state

            # You might do some learning here based on the current state and the last state.

            # You'll need to take an action, too, and return it.
            # Return 0 to swing and 1 to jump.
            two_states=(state_space_dict.get(tuple([learner.gen_bins(state, nbins), 0]), 0), state_space_dict.get(tuple([learner.gen_bins(state, nbins), 1]), 0)) 
            new_action = two_states.index(max(two_states))
            if (npr.rand()<prob_tryrandom):
                new_action= not new_action
        
        new_state  = state
        self.last_action = new_action
        self.last_state  = new_state

        return self.last_action

    def reward_callback(self, reward):
        '''This gets called so you can see what reward you get.'''

        self.last_reward = reward


iters = 2000
learner = Learner()
scorelist=[]

for ii in xrange(iters):

    # Make a new monkey object.
    swing = SwingyMonkey(sound=False,            # Don't play sounds.
                         text="Epoch %d" % (ii), # Display the epoch on screen.
                         tick_length=1,          # Make game ticks super fast.
                         action_callback=learner.action_callback,
                         reward_callback=learner.reward_callback)

    # Loop until you hit something.
    while swing.game_loop():
        pass

    #store all values for mins and max  calcs -- only need to run once to get values for the find_state_bounds function which saves these values    
    scorelist.append(swing.get_state()['score'])

    #print swing.get_state()
    # Reset the state of the learner.
    learner.reset()

#calculate avg score for this approach
print numpy.average(scorelist)




#def find_state_bounds():

    # print scorelist
    # seq_tree = [x['tree'] for x in scorelist]
    # seq_tree_min= min(seq_tree)
    # seq_tree_max= max(seq_tree)

    # seq_monkey = [x['monkey'] for x in scorelist]
    # seq_monkey_min= min(seq_monkey)
    # seq_monkey_max= max(seq_monkey)

    # print seq_tree_min
    # print seq_tree_max
    # print seq_monkey_min
    # print seq_monkey_max

#    return seq_tree_min, seq_tree_max, seq_monkey_min, seq_monkey_max

print len(state_space_dict)

print state_space_dict

print numpy.max(scorelist)

print scorelist




