import numpy.random as npr
import sys
import numpy
from collections import defaultdict
from SwingyMonkey import SwingyMonkey


#calculated mins and maxes values for 5000 iterations. will be used to define bins
seq_tree_min={'bot': 11, 'top': 211, 'dist': -115}
seq_tree_max={'bot': 140, 'top': 340, 'dist': 310}
seq_monkey_min={'vel': -47, 'bot': -44, 'top': 12}
seq_monkey_max={'vel': 18, 'bot': 364, 'top': 420}

learning_rate_start=0.1
learning_rate=learning_rate_start
discount_factor=0.85
state_space_dict=defaultdict(float)

#results from 4000 epochs
#state_space_dict=defaultdict('float', {((2, 2, 1, 5, 2, 2), 0): 0.44294561725198633, ((4, 4, 2, 1, 2, 2), 0): -0.24987431149010886, ((5, 5, 4, 1, 2, 2), 0): 0.0, ((2, 2, 2, 4, 3, 3), 0): -0.142866965561164, ((4, 4, 2, 3, 1, 1), 0): -0.5, ((3, 3, 2, 1, 2, 2), 0): -0.25, ((4, 4, 5, 2, 1, 1), 1): 0.17031515926242868, ((4, 4, 4, 3, 2, 2), 0): 0.2723241341359451, ((5, 5, 3, 2, 1, 1), 1): -0.01818918313620712, ((2, 2, 3, 5, 3, 3), 0): -0.12443437726617611, ((4, 4, 4, 1, 1, 1), 0): -0.5005410300417978, ((1, 1, 2, 1, 1, 1), 1): 0.49638750870252774, ((1, 1, 5, 2, 2, 2), True): 0.008967426429245513, ((5, 5, 4, 2, 1, 1), 1): 0.004165237750259199, ((5, 5, 2, 1, 1, 1), 0): -0.5, ((1, 1, 4, 3, 3, 3), 0): 0.17419095364112006, ((2, 2, 4, 2, 3, 3), 1): -0.015828750959351472, ((5, 5, 2, 5, 4, 4), 0): -0.010570847870474154, ((2, 2, 1, 4, 3, 3), 0): 0.13665407462403611, ((3, 3, 5, 5, 3, 3), 0): 0.06318277774179515, ((1, 1, 3, 1, 2, 2), 0): 0.4076126085044592, ((1, 1, 2, 4, 3, 3), 1): -3.791055178952136, ((5, 5, 3, 4, 4, 4), 0): 0.0009408548208651295, ((3, 3, 3, 4, 1, 1), 1): -0.005048381877340248, ((2, 2, 5, 5, 2, 2), 1): 0.14467089308086342, ((2, 2, 4, 4, 2, 2), 0): 0.25101395560037404, ((4, 4, 3, 3, 1, 1), 1): 0.0414898772979408, ((3, 3, 3, 2, 4, 4), 0): 0.04125731729624024, ((1, 1, 3, 4, 3, 3), 1): -0.8953189921830764, ((1, 1, 4, 4, 1, 1), True): 0.02827798567603927, ((3, 3, 3, 5, 1, 1), 0): 0.20721636627092815, ((3, 3, 3, 5, 2, 2), 1): -0.008263579606438054, ((3, 3, 5, 3, 1, 1), 1): 0.13855360132694367, ((4, 4, 2, 4, 3, 3), 1): 0.24556127020844148, ((2, 2, 1, 3, 3, 3), True): 0.14470836698967718, ((2, 2, 4, 4, 1, 1), 0): 0.2382946096731487, ((5, 5, 3, 1, 1, 1), 1): -0.021158536221023386, ((2, 2, 3, 4, 4, 4), 1): -4.080849416636413, ((2, 2, 2, 3, 1, 1), 0): -0.4569030138774456, ((3, 3, 2, 2, 3, 3), 0): 0.38061046517449176, ((3, 3, 2, 2, 4, 4), 1): -0.27068908834023436, ((3, 3, 4, 5, 4, 4), 1): -0.34485239636493825, ((1, 1, 4, 2, 1, 1), 1): 0.2933534362673669, ((3, 3, 5, 5, 4, 4), 0): -0.10721206255938953, ((1, 1, 5, 5, 2, 2), 0): 0.19864867126521307, ((1, 1, 3, 4, 1, 1), 0): 0.37333282647357535, ((1, 1, 2, 4, 4, 4), 0): -1.9398332562958336, ((5, 5, 2, 4, 3, 3), 0): 0.5148782282643525, ((2, 2, 2, 4, 1, 1), 0): -0.21923523872056133, ((3, 3, 1, 2, 3, 3), 0): 0.8663892489375344, ((2, 2, 3, 2, 2, 2), 0): 0.2760378215192735, ((1, 1, 2, 5, 4, 4), 0): -0.25, ((5, 5, 5, 3, 4, 4), 0): 3.8745604836877335e-05, ((1, 1, 1, 2, 1, 1), 0): -0.20895170404289581, ((4, 4, 5, 5, 2, 2), 0): -0.0016888660894131798, ((2, 2, 2, 5, 3, 3), 0): -1.0006816918197496, ((2, 2, 3, 5, 1, 1), 0): 0.27547750220820955, ((4, 4, 3, 2, 3, 3), True): 0.017072970442383064, ((4, 4, 2, 1, 1, 1), 0): -0.5, ((4, 4, 5, 3, 3, 3), False): 0.20732716104503562, ((5, 5, 2, 3, 4, 4), 0): 0.05365752717612788, ((2, 2, 5, 3, 4, 4), 0): 0.04273832855224019, ((3, 3, 3, 5, 2, 2), 0): 0.25953914477973383, ((2, 2, 3, 5, 4, 4), 1): -0.627631741949499, ((3, 3, 5, 3, 2, 2), 1): 0.005068834433131247, ((4, 4, 4, 2, 2, 2), 1): 0.001630005712277005, ((1, 1, 2, 2, 2, 2), 0): 0.48747108816160056, ((4, 4, 4, 4, 4, 4), 0): -0.2758243356450343, ((1, 1, 1, 4, 3, 3), 0): -1.6375306763403326, ((2, 2, 5, 4, 3, 3), 0): 0.0995372658554581, ((5, 5, 2, 3, 2, 2), 0): -0.26068749999999996, ((5, 5, 5, 2, 1, 1), 0): -0.4999595633836405, ((4, 4, 4, 5, 3, 3), 1): 0.24275044563775308, ((3, 3, 3, 2, 3, 3), 1): 0.020348608225595463, ((3, 3, 5, 4, 3, 3), 0): 0.09803562236432171, ((3, 3, 2, 5, 1, 1), 0): -0.010513338388669791, ((5, 5, 4, 5, 2, 2), 0): -0.001223409444458578, ((3, 3, 3, 5, 3, 3), 0): 0.2823880266957417, ((3, 3, 5, 3, 3, 3), True): 0.06841408925306182, ((1, 1, 3, 3, 2, 2), 0): 0.44217379440789656, ((4, 4, 2, 4, 1, 1), 1): -0.2749830502936818, ((1, 1, 5, 4, 2, 2), True): 0.009185673263251063, ((1, 1, 5, 3, 4, 4), 0): -0.0507896987307054, ((2, 2, 5, 4, 2, 2), 0): 0.15511736342816562, ((3, 3, 1, 1, 2, 2), 0): -0.25, ((5, 5, 4, 3, 4, 4), 0): 0.005789082158560995, ((3, 3, 2, 2, 1, 1), 0): -0.5, ((4, 4, 4, 5, 1, 1), 0): 0.01910282794526391, ((1, 1, 4, 2, 3, 3), True): 0.014387091963025074, ((2, 2, 2, 2, 2, 2), 0): -0.2589651952140819, ((4, 4, 3, 4, 2, 2), 0): 0.3180505322122202, ((3, 3, 2, 3, 3, 3), 0): 0.6760044008295951, ((4, 4, 5, 4, 1, 1), 0): 0.15754455743306883, ((2, 2, 4, 3, 2, 2), 0): 0.2045161544934915, ((5, 5, 2, 4, 4, 4), 0): -0.46528586169548963, ((1, 1, 2, 5, 2, 2), 0): 0.40964098285080813, ((4, 4, 1, 4, 2, 2), 0): 0.719605874128571, ((1, 1, 2, 3, 2, 2), True): 0.24810316457270623, ((1, 1, 2, 3, 1, 1), 0): -0.4499504670703383, ((3, 3, 3, 3, 1, 1), 0): -0.00018906143106947273, ((2, 2, 4, 5, 3, 3), 1): -0.08627701229122993, ((4, 4, 5, 3, 1, 1), 0): 0.10664332567673057, ((4, 4, 1, 5, 2, 2), 0): 0.4944641782601533, ((1, 1, 1, 3, 2, 2), 0): 0.8486211406846162, ((3, 3, 4, 4, 4, 4), 1): -3.232974777460037, ((2, 2, 2, 1, 1, 1), 1): 0.37683183021653643, ((4, 4, 5, 2, 3, 3), 0): -0.0016672784007729304, ((2, 2, 4, 1, 1, 1), 0): -0.4996406262912763, ((2, 2, 1, 2, 2, 2), 0): -0.12554662566722471, ((4, 4, 5, 3, 4, 4), 0): 0.11626479195241048, ((4, 4, 1, 1, 2, 2), 1): 0.3721823542078475, ((4, 4, 1, 2, 3, 3), True): 0.2846813814143238, ((4, 4, 4, 2, 3, 3), 1): 0.24579853800540516, ((2, 2, 5, 3, 2, 2), True): 0.060835189517731904, ((2, 2, 3, 4, 2, 2), 0): 0.29685327570879305, ((2, 2, 5, 5, 4, 4), 0): -0.23901683829440465, ((4, 4, 1, 5, 3, 3), 0): 0.6941950103417523, ((2, 2, 3, 3, 4, 4), 1): -0.9078605258131343, ((5, 5, 2, 5, 2, 2), 1): -0.026082031846399747, ((1, 1, 3, 3, 1, 1), True): 0.035280920338542104, ((5, 5, 2, 3, 1, 1), 1): -0.026571473885174918, ((4, 4, 1, 4, 3, 3), 0): 0.7962401372183777, ((1, 1, 3, 1, 1, 1), 0): -0.4555928736037602, ((2, 2, 2, 1, 2, 2), 0): -0.045561856904611286, ((4, 4, 3, 3, 3, 3), 0): 0.36569814769347797, ((3, 3, 2, 4, 2, 2), 0): 0.16288578712395832, ((1, 1, 4, 4, 2, 2), 0): 0.2898015963735022, ((4, 4, 3, 3, 4, 4), 1): -0.6158474030177283, ((2, 2, 3, 1, 1, 1), 0): -0.46122785821424667, ((5, 5, 4, 4, 2, 2), 1): 0.09906803929620148, ((2, 2, 5, 2, 1, 1), 1): 0.1864525609528084, ((2, 2, 3, 4, 1, 1), 0): 0.31323092094233906, ((4, 4, 3, 4, 4, 4), 0): -1.3062112422933685, ((3, 3, 1, 4, 2, 2), 0): 0.7207032535159521, ((3, 3, 5, 4, 4, 4), 1): -0.6290002865839579, ((2, 2, 4, 5, 4, 4), 0): -0.28930371920250936, ((1, 1, 1, 1, 2, 2), 1): 0.7005452588750308, ((3, 3, 4, 3, 1, 1), 0): 0.17822054980300306, ((5, 5, 3, 5, 2, 2), 1): 0.012179809790972778, ((1, 1, 2, 3, 4, 4), 1): -1.2363444573043836, ((4, 4, 3, 5, 2, 2), 1): 0.31366785337098485, ((2, 2, 1, 5, 3, 3), 0): -0.6402171701638896, ((2, 2, 2, 4, 4, 4), 0): -4.595544525398467, ((3, 3, 4, 4, 1, 1), 0): -0.0005571676002799142, ((3, 3, 5, 2, 2, 2), 0): 0.15708271888701933, ((4, 4, 2, 5, 4, 4), 0): -0.5, ((5, 5, 3, 2, 3, 3), 0): -0.0018359210038855899, ((1, 1, 1, 5, 1, 1), 0): 0.20904379881968477, ((4, 4, 2, 2, 1, 1), 0): -0.502227796876494, ((3, 3, 4, 5, 3, 3), 0): -0.09606138034942382, ((3, 3, 1, 2, 2, 2), 1): 0.7617972385777988, ((1, 1, 5, 2, 1, 1), 1): 0.24128935003669413, ((3, 3, 1, 5, 2, 2), 0): -0.006628019282051375, ((4, 4, 4, 2, 1, 1), 1): 0.02947410120677965, ((3, 3, 3, 3, 4, 4), 0): -0.28758494829818226, ((3, 3, 3, 1, 2, 2), 1): -0.006520371861435591, ((1, 1, 4, 5, 1, 1), 0): 0.04962564327122311, ((4, 4, 5, 4, 3, 3), 0): 0.1936410421811351, ((5, 5, 2, 2, 1, 1), 1): -0.24875, ((2, 2, 2, 3, 3, 3), 1): -1.224381977928776, ((4, 4, 3, 1, 1, 1), 1): -0.06011906224617176, ((1, 1, 2, 1, 2, 2), 0): -0.09178465628200178, ((3, 3, 3, 4, 3, 3), 0): 0.3856777331933668, ((2, 2, 4, 4, 3, 3), 0): 0.13355787868156305, ((3, 3, 1, 3, 3, 3), 0): 0.8874827412342099, ((3, 3, 3, 4, 2, 2), 1): 0.07900563560233582, ((2, 2, 4, 3, 4, 4), 0): 0.07590274901442425, ((2, 2, 3, 2, 3, 3), 1): -0.04793926307047487, ((5, 5, 1, 4, 3, 3), True): 0.033899628987876164, ((5, 5, 1, 2, 3, 3), 0): -0.01060574553821128, ((4, 4, 3, 5, 1, 1), 0): -0.002797931950532432, ((5, 5, 4, 4, 3, 3), True): 0.00653198716307105, ((4, 4, 2, 2, 2, 2), 0): -0.13857300900188071, ((3, 3, 2, 4, 4, 4), 1): -3.6397538327410364, ((5, 5, 4, 2, 2, 2), 1): 0.045885861127671596, ((1, 1, 5, 5, 3, 3), 0): 0.08491599574180178, ((5, 5, 3, 3, 3, 3), 0): 0.2687814782247969, ((5, 5, 2, 2, 2, 2), 0): -0.25, ((2, 2, 2, 2, 1, 1), 0): -0.4768424978926772, ((3, 3, 4, 2, 2, 2), 0): 0.18377331549727582, ((1, 1, 3, 2, 4, 4), 0): 0.015283547825830334, ((5, 5, 2, 1, 2, 2), 1): 0.0, ((4, 4, 2, 4, 4, 4), 0): -2.4060582996042355, ((4, 4, 2, 5, 3, 3), True): 0.023805903594334252, ((2, 2, 5, 4, 4, 4), 1): -0.8989014428713874, ((1, 1, 3, 5, 1, 1), 0): 0.36917305567602243, ((4, 4, 3, 2, 2, 2), 1): 0.3045558883906673, ((4, 4, 5, 5, 3, 3), 0): 0.018605966143227983, ((3, 3, 5, 4, 1, 1), 1): -0.0003778196039855716, ((2, 2, 2, 5, 2, 2), 0): -0.0179266346147011, ((4, 4, 2, 2, 3, 3), 0): 0.5596932068019836, ((4, 4, 3, 4, 1, 1), 1): -0.10054705383133822, ((3, 3, 2, 2, 2, 2), 1): 0.36267764013314835, ((3, 3, 2, 5, 3, 3), 1): -0.031182775150279264, ((4, 4, 2, 3, 3, 3), 0): 0.5843471846939741, ((1, 1, 1, 3, 1, 1), 0): -0.2062105307372924, ((1, 1, 2, 2, 3, 3), 0): 0.07364340249333734, ((1, 1, 2, 2, 4, 4), 1): -0.35785442804723977, ((2, 2, 5, 2, 2, 2), True): 0.01733583557242407, ((5, 5, 2, 4, 2, 2), 1): -0.20834061662459125, ((1, 1, 4, 5, 4, 4), 1): -0.7095384900297618, ((3, 3, 4, 1, 1, 1), 1): 0.20964647070699255, ((1, 1, 3, 4, 4, 4), 0): -2.308638274905641, ((1, 1, 1, 2, 3, 3), 0): 0.3260981708800928, ((3, 3, 3, 3, 2, 2), 1): 0.23877879407868507, ((3, 3, 3, 2, 2, 2), 1): 0.08192062736759169, ((2, 2, 5, 4, 4, 4), 0): -0.19853672679677142, ((2, 2, 1, 4, 2, 2), True): 0.18545083624018152, ((3, 3, 5, 4, 2, 2), 0): 0.1383754568038919, ((3, 3, 3, 5, 4, 4), 0): -0.026361950760131043, ((2, 2, 1, 3, 2, 2), 0): 0.8825719682270552, ((3, 3, 5, 3, 4, 4), 1): -0.012142524393926601, ((4, 4, 4, 3, 3, 3), True): 0.08937311025646456, ((5, 5, 5, 3, 1, 1), 0): 0.0001916400747067927, ((4, 4, 1, 3, 2, 2), 0): 0.0953482390114956, ((1, 1, 3, 5, 2, 2), 0): 0.4013276913332493, ((3, 3, 4, 1, 2, 2), 0): 0.0001328193037549281, ((3, 3, 2, 4, 1, 1), 0): 0.016608139685505917, ((1, 1, 5, 3, 2, 2), True): 0.07171628061276669, ((2, 2, 5, 4, 1, 1), 0): 0.1712137927997512, ((3, 3, 3, 4, 4, 4), 0): -1.3467885985684416, ((2, 2, 4, 4, 4, 4), 0): -4.281420749428092, ((3, 3, 5, 1, 1, 1), 0): -0.5000702158786358, ((4, 4, 4, 3, 4, 4), 0): 0.09717476088030357, ((3, 3, 3, 2, 1, 1), 1): 0.25415251833975305, ((5, 5, 3, 3, 1, 1), 0): 0.0, ((2, 2, 2, 2, 3, 3), 0): 0.27006098776505005, ((5, 5, 1, 2, 2, 2), 0): -0.25, ((3, 3, 2, 3, 2, 2), 0): -0.3257632181267472, ((4, 4, 4, 4, 1, 1), 0): -0.011219767186151502, ((1, 1, 3, 2, 3, 3), True): 0.0, ((1, 1, 1, 1, 2, 2), 0): -0.19836471941812878, ((1, 1, 5, 4, 3, 3), 0): 0.02302285742684794, ((2, 2, 3, 2, 4, 4), 1): -0.1784334606332808, ((3, 3, 2, 1, 1, 1), 0): -0.5, ((1, 1, 4, 3, 2, 2), 0): 0.25112243745982193, ((1, 1, 2, 5, 1, 1), 0): 0.4062435511076924, ((1, 1, 3, 5, 3, 3), 0): -0.021008854327354245, ((3, 3, 1, 3, 2, 2), 1): 0.689736519889729, ((1, 1, 5, 3, 3, 3), True): 0.09833755474719105, ((2, 2, 2, 5, 4, 4), 0): -1.2166990613147273, ((2, 2, 4, 2, 2, 2), 0): 0.21037757729138173, ((3, 3, 1, 5, 3, 3), 1): -0.234545389568371, ((2, 2, 4, 3, 1, 1), True): 0.010995912923188744, ((1, 1, 1, 3, 3, 3), 0): 0.8464824993335182, ((5, 5, 2, 5, 3, 3), 0): 0.16669075209843723, ((1, 1, 2, 2, 1, 1), 0): -0.5, ((4, 4, 2, 4, 2, 2), 1): 0.46401403545712455, ((5, 5, 5, 3, 2, 2), 0): -1.00512699293112e-06, ((3, 3, 5, 2, 3, 3), 1): -0.0018259691969499201, ((4, 4, 2, 2, 4, 4), 0): 0.07266550870358675, ((4, 4, 5, 2, 2, 2), 0): 0.0008893876338075335, ((1, 1, 2, 3, 3, 3), 0): -0.1953891088130399, ((4, 4, 5, 5, 4, 4), 0): -0.001212013723005784, ((4, 4, 1, 2, 2, 2), 1): 0.7676236704010866, ((3, 3, 3, 1, 1, 1), 1): 0.26934020122390945, ((2, 2, 2, 3, 4, 4), 1): -3.1999518476937863, ((5, 5, 4, 4, 1, 1), 0): -0.0014294254454106023, ((2, 2, 1, 1, 1, 1), 0): 0.05, ((5, 5, 4, 3, 2, 2), 0): -0.000610196774750206, ((4, 4, 4, 4, 2, 2), 0): 0.21721862647578846, ((3, 3, 4, 3, 3, 3), 1): 0.03020268077950864, ((1, 1, 4, 3, 2, 2), True): 0.043268749890820295, ((5, 5, 5, 3, 3, 3), 0): 0.05843756180626214, ((1, 1, 4, 4, 3, 3), 0): 0.08694707244040548, ((1, 1, 4, 4, 4, 4), 1): -1.519822883259469, ((4, 4, 1, 4, 4, 4), 0): -0.5892444300043558, ((4, 4, 5, 4, 2, 2), 1): 0.19552442375661158, ((3, 3, 2, 4, 3, 3), 0): 0.3721461638438955, ((4, 4, 2, 3, 2, 2), 1): 0.468019722933595, ((4, 4, 5, 3, 2, 2), 0): 0.03176660719367266, ((5, 5, 1, 3, 4, 4), 0): 0.11620790819961266, ((5, 5, 5, 4, 1, 1), 0): -5.612660025093899e-05, ((4, 4, 4, 1, 2, 2), 1): -0.002548521526317601, ((5, 5, 2, 3, 3, 3), True): 0.03627935742630581, ((3, 3, 2, 3, 4, 4), 0): -1.314080633723909, ((4, 4, 4, 4, 3, 3), 0): 0.24584784140931187, ((1, 1, 4, 1, 1, 1), 1): 0.33898804981082353, ((2, 2, 3, 2, 1, 1), 0): -0.42524807828489913, ((4, 4, 3, 3, 2, 2), 1): 0.3371095915590034, ((4, 4, 2, 3, 4, 4), 1): -2.1054496795112714, ((2, 2, 4, 2, 1, 1), 1): 0.2365048538080652, ((3, 3, 4, 2, 1, 1), 0): -0.4650370761866479, ((1, 1, 1, 1, 1, 1), 1): 0.6807318071017634, ((1, 1, 2, 4, 2, 2), 0): 0.5338578177901399, ((1, 1, 5, 5, 4, 4), 0): -0.014373826355550892, ((4, 4, 4, 3, 1, 1), 0): -0.0017761637579374716, ((2, 2, 2, 2, 4, 4), 0): -0.004635788271368749, ((5, 5, 4, 4, 4, 4), 0): 3.943077722298961e-05, ((3, 3, 5, 2, 1, 1), 0): -0.4999999686937929, ((5, 5, 3, 2, 2, 2), 0): -0.02825753685117086, ((3, 3, 2, 5, 4, 4), 1): -0.6072913745414757, ((4, 4, 1, 4, 2, 2), True): 0.10308752389624129, ((3, 3, 4, 5, 2, 2), 0): 0.20468745787235285, ((2, 2, 3, 1, 2, 2), 0): -0.010411559792293301, ((1, 1, 4, 1, 2, 2), 0): 0.3226451663779028, ((1, 1, 1, 4, 2, 2), 0): 0.78596532698107, ((1, 1, 5, 4, 4, 4), True): -0.6303282415176599, ((1, 1, 4, 3, 1, 1), 0): 0.2862821787263749, ((2, 2, 2, 4, 3, 3), 1): -2.032839323493602, ((2, 2, 2, 3, 2, 2), 1): 0.42740517023615926, ((4, 4, 5, 2, 1, 1), 0): -0.5000416795230688, ((1, 1, 3, 2, 1, 1), 1): 0.3732305041642677, ((2, 2, 2, 4, 2, 2), 0): 0.4914320595892847, ((2, 2, 3, 5, 2, 2), True): 0.0156679916331128, ((5, 5, 3, 2, 1, 1), 0): -0.5, ((2, 2, 5, 3, 3, 3), 0): 0.14211029846198772, ((2, 2, 3, 5, 3, 3), 1): -0.1292620691663114, ((1, 1, 4, 4, 1, 1), 0): 0.3037955741258736, ((1, 1, 2, 1, 1, 1), 0): -0.5, ((1, 1, 5, 2, 2, 2), 0): 0.2314758505399327, ((2, 2, 1, 3, 1, 1), 0): -0.25, ((4, 4, 5, 1, 1, 1), 0): -0.5, ((1, 1, 4, 5, 3, 3), 0): 0.01059963396949521, ((1, 1, 1, 2, 2, 2), True): 0.09905004194737499, ((1, 1, 5, 4, 3, 3), True): 0.016952391129984076, ((1, 1, 1, 5, 2, 2), 0): 0.04083810717636419, ((3, 3, 5, 5, 3, 3), 1): -0.0017596877770872685, ((5, 5, 2, 2, 3, 3), 0): -0.0007179913943618915, ((1, 1, 3, 1, 2, 2), True): 0.05449720025793565, ((5, 5, 4, 4, 1, 1), 1): 0.0058889312102568415, ((3, 3, 5, 5, 2, 2), 0): 0.129276841847, ((3, 3, 3, 4, 1, 1), 0): 0.2634123199624092, ((2, 2, 4, 4, 2, 2), True): 0.015611925165210424, ((1, 1, 3, 4, 3, 3), 0): -0.7905651683759558, ((3, 3, 4, 2, 3, 3), 0): 0.16304865252703862, ((5, 5, 4, 2, 3, 3), 1): 0.10042743034637665, ((4, 4, 2, 5, 2, 2), 1): 0.454248648031198, ((2, 2, 3, 4, 4, 4), 0): -3.548131483244906, ((4, 4, 3, 2, 1, 1), 1): -0.12178708623370832, ((3, 3, 2, 5, 2, 2), 1): 0.3955689196883555, ((2, 2, 2, 5, 1, 1), 0): 0.2457833439900679, ((3, 3, 4, 5, 4, 4), 0): -0.5808796672432147, ((2, 2, 3, 3, 1, 1), 0): 0.30692294605774884, ((3, 3, 2, 3, 1, 1), 1): 0.2262709036450316, ((3, 3, 1, 3, 2, 2), 0): 0.09922866043824677, ((1, 1, 2, 4, 4, 4), 1): -2.4205690684452645, ((5, 5, 3, 1, 2, 2), 0): -0.00047842460156250003, ((4, 4, 2, 3, 4, 4), 0): -1.7049767548480121, ((4, 4, 4, 5, 2, 2), 1): 0.2063921840220579, ((1, 1, 4, 2, 2, 2), 0): 0.2690168020465074, ((1, 1, 5, 2, 3, 3), True): 0.010509210391169446, ((4, 4, 5, 5, 2, 2), 1): 0.2056703367423202, ((1, 1, 1, 4, 1, 1), 0): 0.7422309204595097, ((4, 4, 3, 4, 3, 3), True): -0.03314225350039283, ((4, 4, 3, 2, 3, 3), 0): 0.37300105060216493, ((5, 5, 3, 4, 3, 3), True): 0.006522103431923123, ((4, 4, 5, 3, 3, 3), True): 0.18085191084408025, ((5, 5, 5, 2, 3, 3), 0): 0.0045714375682132215, ((5, 5, 2, 4, 1, 1), 0): -0.25528292486413834, ((2, 2, 5, 2, 3, 3), True): 9.581663418048627e-07, ((3, 3, 4, 3, 4, 4), 1): -0.11762565518351786, ((2, 2, 5, 3, 4, 4), 1): -0.020107622467865256, ((2, 2, 5, 2, 3, 3), 0): 0.167578846359252, ((4, 4, 1, 3, 3, 3), 0): 0.7837538394116699, ((1, 1, 2, 2, 2, 2), True): -0.06518807054264746, ((1, 1, 2, 5, 3, 3), 1): -0.48488433967256184, ((4, 4, 4, 4, 4, 4), 1): -1.0402408952569346, ((1, 1, 3, 3, 4, 4), 1): -0.6050772822515761, ((2, 2, 3, 3, 2, 2), 0): 0.33396747238441515, ((4, 4, 4, 5, 3, 3), 0): -0.00026918879167557087, ((3, 3, 3, 2, 3, 3), 0): 0.23200682185515425, ((1, 1, 1, 3, 2, 2), True): 0.5105200843848685, ((2, 2, 1, 2, 3, 3), True): 0.026529764688873567, ((3, 3, 3, 5, 3, 3), 1): -0.0016804227852792236, ((1, 1, 3, 3, 2, 2), True): 0.09057195205355995, ((1, 1, 3, 2, 2, 2), True): 0.15131444141120803, ((1, 1, 5, 4, 2, 2), 0): 0.22032383468631356, ((1, 1, 3, 5, 4, 4), 0): -0.022500000000000003, ((5, 5, 4, 3, 2, 2), 1): 0.10076441900774563, ((1, 1, 5, 3, 4, 4), 1): -0.11673412163656237, ((2, 2, 3, 4, 3, 3), 1): -0.8609025710288208, ((3, 3, 1, 1, 2, 2), 1): 0.10924382050013294, ((3, 3, 2, 2, 1, 1), 1): 0.2913109280693905, ((2, 2, 3, 3, 3, 3), 0): 0.21051349800210428, ((4, 4, 4, 1, 1, 1), 1): -0.01341115928149333, ((1, 1, 2, 4, 1, 1), 0): 0.5153104479085122, ((2, 2, 2, 2, 2, 2), 1): 0.3055870103986914, ((4, 4, 3, 1, 2, 2), 0): 0.0, ((1, 1, 5, 1, 1, 1), 0): -0.5, ((2, 2, 1, 1, 2, 2), 1): 0.2934735583917603, ((4, 4, 3, 5, 4, 4), 0): -0.05481152991314898, ((1, 1, 1, 5, 3, 3), 0): -0.3336078357677299, ((5, 5, 2, 3, 2, 2), 1): 0.2921824284867222, ((1, 1, 2, 3, 2, 2), 0): 0.5917321094569199, ((3, 3, 5, 1, 2, 2), 0): -2.3055776551052497e-06, ((3, 3, 3, 3, 1, 1), 1): 0.24429228058909286, ((2, 2, 4, 3, 3, 3), 1): -0.1771358603123661, ((2, 2, 4, 5, 3, 3), 0): -0.09363477809253938, ((4, 4, 5, 3, 1, 1), 1): -0.00220143437619811, ((5, 5, 3, 3, 2, 2), 0): 0.0032695242003548675, ((3, 3, 1, 4, 3, 3), 1): -0.31441004593672656, ((5, 5, 5, 4, 2, 2), 1): -0.0002477474295880726, ((3, 3, 4, 4, 3, 3), 1): -0.20685739694779517, ((3, 3, 4, 3, 2, 2), 1): 0.04617228217671792, ((3, 3, 4, 4, 2, 2), 0): 0.1791812776158402, ((2, 2, 2, 1, 1, 1), 0): -0.5, ((5, 5, 1, 3, 3, 3), 0): 0.8192497423008003, ((3, 3, 3, 3, 3, 3), 0): 0.22360717224013354, ((4, 4, 2, 1, 2, 2), 1): 0.1616606967351838, ((4, 4, 5, 3, 4, 4), 1): -0.031614912970997985, ((4, 4, 2, 3, 1, 1), 1): -0.2650237293627306, ((4, 4, 1, 2, 3, 3), 0): 0.7780476584800649, ((3, 3, 2, 1, 2, 2), 1): 0.3287881418778817, ((1, 1, 4, 3, 4, 4), 1): -0.9474388610155666, ((2, 2, 4, 5, 4, 4), 1): -0.3549997610773864, ((4, 4, 4, 3, 2, 2), 1): 0.029052034207845953, ((2, 2, 5, 5, 4, 4), 1): -0.2839299168069159, ((2, 2, 4, 3, 2, 2), True): 0.029142286591899064, ((5, 5, 2, 5, 2, 2), 0): -0.01438678028248544, ((2, 2, 5, 5, 3, 3), 0): -0.0477649246557164, ((5, 5, 4, 2, 1, 1), 0): -0.5, ((5, 5, 2, 3, 1, 1), 0): -0.011250000000000001, ((1, 1, 3, 1, 1, 1), 1): 0.39139427379560426, ((5, 5, 2, 1, 1, 1), 1): -0.0106875, ((4, 4, 3, 3, 3, 3), 1): 0.16316558968595596, ((3, 3, 2, 4, 2, 2), True): -0.11768185599593124, ((3, 3, 5, 5, 4, 4), 1): -0.5911783548520739, ((1, 1, 4, 3, 3, 3), True): 0.011470724919768818, ((1, 1, 4, 4, 2, 2), True): 0.03299690906578065, ((5, 5, 1, 3, 2, 2), 0): -0.19999452293747805, ((2, 2, 3, 1, 1, 1), 1): 0.31420981719889723, ((2, 2, 1, 4, 3, 3), 1): -1.2024630087349988, ((5, 5, 1, 5, 3, 3), 0): 0.33445538389693447, ((2, 2, 5, 2, 1, 1), 0): -0.47008631390399946, ((1, 1, 2, 4, 3, 3), 0): -3.8227244645936502, ((1, 1, 3, 4, 2, 2), True): 0.15458323736886317, ((2, 2, 5, 5, 2, 2), 0): -0.0003466315935367872, ((3, 3, 1, 4, 2, 2), True): 0.13299977393870205, ((4, 4, 3, 3, 1, 1), 0): -0.0019020582205993408, ((3, 3, 5, 4, 4, 4), 0): -0.5399391083733949, ((1, 1, 2, 3, 4, 4), 0): -0.8191560712216107, ((3, 3, 5, 3, 1, 1), 0): -0.0005232410569173474, ((4, 4, 2, 4, 3, 3), 0): 0.5263928627444991, ((2, 2, 1, 5, 3, 3), 1): -0.6716483689627792, ((5, 5, 3, 4, 2, 2), 1): -0.056288801729126224, ((5, 5, 3, 1, 1, 1), 0): -0.5, ((2, 2, 2, 4, 4, 4), 1): -4.989388760436751, ((2, 2, 2, 3, 1, 1), 1): 0.4089881231748808, ((3, 3, 3, 4, 2, 2), 0): 0.22698568999956587, ((3, 3, 2, 2, 4, 4), 0): -0.42136636835575325, ((1, 1, 4, 2, 1, 1), 0): -0.4616126869675753, ((4, 4, 2, 2, 1, 1), 1): -0.018638443094218596, ((3, 3, 1, 2, 2, 2), 0): -0.25, ((1, 1, 5, 2, 1, 1), 0): -0.4307327484257903, ((3, 3, 1, 5, 2, 2), 1): 0.6441724297745034, ((3, 3, 1, 2, 3, 3), True): -0.0010009345887419467, ((2, 2, 3, 2, 2, 2), 1): 0.030578446959064774, ((5, 5, 3, 4, 1, 1), 0): 0.0, ((1, 1, 2, 5, 4, 4), 1): -0.0601893252849557, ((3, 3, 3, 3, 4, 4), 1): -0.3911540673672176, ((1, 1, 4, 5, 2, 2), 0): 0.2771227991339359, ((1, 1, 1, 2, 1, 1), 1): 0.7864430159034671, ((2, 2, 2, 5, 3, 3), 1): -0.21260270084830235, ((2, 2, 2, 3, 3, 3), 0): 0.17349758151241423, ((4, 4, 2, 1, 1, 1), 1): -0.04897663161718188, ((4, 4, 1, 3, 4, 4), 0): 0.6643794646287475, ((2, 2, 5, 1, 2, 2), 0): 0.04396784686919017, ((2, 2, 4, 4, 3, 3), 1): -0.4113341816045561, ((2, 2, 3, 5, 4, 4), 0): -0.7013034779010033, ((3, 3, 5, 3, 2, 2), 0): 0.1458309832218515, ((4, 4, 4, 2, 2, 2), 0): 0.25927521323064495, ((3, 3, 1, 3, 3, 3), True): 0.26044877823283435, ((2, 2, 3, 3, 2, 2), True): 0.05242322603023032, ((3, 3, 2, 1, 3, 3), 0): 0.013613769778960054, ((1, 1, 1, 4, 3, 3), 1): -3.089120855771286, ((2, 2, 5, 4, 3, 3), 1): -0.16665486764922577, ((2, 2, 3, 2, 3, 3), 0): 0.23761301974713253, ((5, 5, 5, 2, 1, 1), 1): 0.0094898147382457, ((5, 5, 1, 4, 3, 3), 0): 0.7603314877397039, ((3, 3, 5, 4, 3, 3), 1): -0.03954225626074557, ((4, 4, 2, 2, 2, 2), 1): 0.48952013016474416, ((3, 3, 2, 5, 1, 1), 1): 0.21513810098352526, ((1, 1, 3, 3, 3, 3), 0): 0.1726278792673364, ((5, 5, 4, 5, 2, 2), 1): 0.02542223222477347, ((3, 3, 5, 3, 3, 3), False): 0.12804545688857144, ((4, 4, 2, 4, 1, 1), 0): -0.0843418019296105, ((2, 2, 2, 2, 1, 1), 1): 0.3737352955870735, ((3, 3, 4, 2, 2, 2), 1): 0.045984506675701614, ((2, 2, 5, 4, 2, 2), 1): -0.013119573414415362, ((5, 5, 2, 1, 2, 2), 0): -0.25, ((4, 4, 2, 4, 4, 4), 1): -2.940824900228453, ((4, 4, 2, 5, 3, 3), 0): 0.5000203656747538, ((1, 1, 4, 2, 3, 3), 0): 0.2499502637189968, ((4, 4, 3, 2, 2, 2), 0): -0.007106082733268491, ((4, 4, 5, 5, 3, 3), 1): 0.20860519731944469, ((3, 3, 5, 4, 1, 1), 0): 0.14714861349252614, ((4, 4, 2, 2, 3, 3), True): 0.0668110759131665, ((4, 4, 3, 4, 2, 2), 1): -0.045597898366155784, ((4, 4, 3, 4, 1, 1), 0): -0.1292288658948467, ((3, 3, 2, 3, 3, 3), 1): -0.25, ((3, 3, 2, 5, 3, 3), 0): 0.5024766743068766, ((4, 4, 5, 4, 1, 1), 1): -0.00024816510172160884, ((1, 1, 1, 3, 1, 1), 1): 0.8109292856470474, ((1, 1, 2, 2, 3, 3), 1): -0.5343664024936918, ((1, 1, 2, 5, 2, 2), True): 0.01728091258398728, ((2, 2, 5, 2, 2, 2), 0): 0.18641104250820978, ((1, 1, 4, 5, 4, 4), 0): -0.18688785940132593, ((3, 3, 4, 1, 1, 1), 0): -0.49999996496217963, ((1, 1, 2, 3, 1, 1), 1): 0.5273759843478586, ((5, 5, 5, 5, 3, 3), 0): 7.643245853326087e-05, ((4, 4, 1, 4, 4, 4), 1): -2.021188375944542, ((3, 3, 4, 4, 4, 4), 0): -2.2181306063723243, ((3, 3, 3, 2, 2, 2), 0): 0.24095275400536031, ((1, 1, 3, 4, 4, 4), 1): -2.7859801606375556, ((2, 2, 1, 4, 2, 2), 0): 0.6633577199169896, ((4, 4, 5, 2, 3, 3), 1): 0.19825776845892543, ((2, 2, 1, 3, 2, 2), True): 0.40423385766143577, ((2, 2, 1, 2, 2, 2), 1): 0.5640456711069575, ((5, 5, 5, 4, 3, 3), 0): 0.0681367746714144, ((4, 4, 1, 1, 2, 2), 0): -0.20025000000000004, ((4, 4, 1, 3, 2, 2), True): 0.677452044403378, ((4, 4, 4, 2, 3, 3), 0): 0.017568089364368114, ((2, 2, 5, 3, 2, 2), 0): 0.16947501313062477, ((4, 4, 5, 4, 4, 4), 0): -0.0036618726428111438, ((3, 3, 2, 4, 1, 1), 1): 0.31001390465406625, ((2, 2, 3, 4, 2, 2), True): 0.13370096494953412, ((2, 2, 4, 4, 4, 4), 1): -3.9991087051910834, ((2, 2, 3, 3, 4, 4), 0): -0.687075817499031, ((3, 3, 5, 1, 1, 1), 1): 0.0033192120171671212, ((1, 1, 3, 3, 1, 1), 0): 0.4042909802088366, ((4, 4, 1, 4, 3, 3), True): 0.22877588917047384, ((3, 3, 3, 2, 1, 1), 0): -0.4269078965516543, ((2, 2, 2, 2, 3, 3), 1): -0.44738340420773454, ((2, 2, 2, 1, 2, 2), 1): 0.4181870653879257, ((1, 1, 3, 5, 4, 4), 1): -0.09700578168538114, ((4, 4, 4, 4, 1, 1), 1): 0.1819922572150702, ((1, 1, 3, 2, 3, 3), 0): 0.2761550320474238, ((2, 2, 3, 2, 4, 4), 0): -0.007137908620896441, ((4, 4, 3, 3, 4, 4), 0): -0.3976396182573117, ((5, 5, 4, 4, 2, 2), 0): -0.0032108371968539453, ((1, 1, 3, 5, 3, 3), 1): -0.030096801193215672, ((2, 2, 4, 5, 2, 2), 0): 0.24304827857704783, ((2, 2, 3, 4, 1, 1), True): 0.03234188960001941, ((2, 2, 4, 2, 2, 2), 1): 0.09957041536466259, ((4, 4, 3, 4, 4, 4), 1): -1.4724978741716055, ((2, 2, 4, 3, 1, 1), 0): 0.22938879181397218, ((2, 2, 4, 1, 1, 1), 1): 0.26197436638578275, ((3, 3, 4, 3, 1, 1), 1): 0.0018143760636082427, ((1, 1, 2, 2, 1, 1), 1): 0.5618898389521388, ((5, 5, 3, 5, 2, 2), 0): -0.0006976812062514731, ((5, 5, 5, 3, 2, 2), 1): 0.05845101600694993, ((4, 4, 3, 5, 2, 2), 0): -0.007625443547890893, ((4, 4, 5, 5, 4, 4), 1): -0.0026775032289835963, ((3, 3, 4, 4, 1, 1), 1): 0.19035351425130148, ((4, 4, 1, 2, 2, 2), 0): -0.2826006409138192, ((3, 3, 5, 2, 2, 2), 1): 0.020586730278286586, ((3, 3, 3, 5, 1, 1), 1): -0.010817171501986248, ((5, 5, 3, 2, 3, 3), 1): 0.16132593866109854, ((2, 2, 2, 3, 4, 4), 0): -2.62951727969611, ((1, 1, 5, 1, 2, 2), 0): 0.03897582261167784, ((1, 1, 4, 4, 3, 3), True): 0.007757068252463287, ((5, 5, 2, 5, 1, 1), 0): 0.0, ((4, 4, 4, 4, 2, 2), 1): 0.06737554920421492, ((3, 3, 4, 5, 3, 3), 1): 0.00884064543884236, ((3, 3, 4, 3, 3, 3), 0): 0.15649938480011305, ((5, 5, 3, 5, 3, 3), 0): 0.04323546201519724, ((4, 4, 2, 5, 1, 1), 0): -0.022727389021662794, ((5, 5, 5, 3, 3, 3), True): 0.009855519132490616, ((4, 4, 2, 1, 3, 3), 0): -0.24899667211325333, ((4, 4, 4, 2, 1, 1), 0): -0.5, ((4, 4, 5, 4, 2, 2), 0): 0.0021075553324915244, ((3, 3, 3, 1, 2, 2), 0): 0.23447373681849404, ((3, 3, 2, 4, 3, 3), 1): -0.2637988639792451, ((4, 4, 2, 3, 2, 2), 0): -0.6310375202293181, ((4, 4, 5, 3, 2, 2), 1): 0.18062570013543305, ((4, 4, 5, 4, 3, 3), 1): 0.024855779722254, ((5, 5, 2, 2, 2, 2), 1): 0.002022819839322988, ((5, 5, 2, 2, 1, 1), 0): -0.48631250000000004, ((4, 4, 4, 3, 3, 3), 0): 0.25824470824175205, ((4, 4, 3, 1, 1, 1), 0): -0.5, ((4, 4, 4, 1, 2, 2), 0): -0.0036600011855756048, ((1, 1, 2, 1, 2, 2), 1): 0.5045073523694591, ((3, 3, 3, 4, 3, 3), 1): -0.15659898253647675, ((5, 5, 2, 3, 3, 3), 0): 0.42617520942502907, ((3, 3, 5, 2, 3, 3), 0): 0.13999643719956717, ((1, 1, 4, 1, 1, 1), 0): -0.49999994885968346, ((5, 5, 5, 4, 4, 4), 0): 5.4030141160270176e-11, ((2, 2, 4, 3, 4, 4), 1): -0.5, ((3, 3, 4, 2, 1, 1), 1): 0.19777677351505796, ((1, 1, 2, 4, 2, 2), True): 0.0900662376638462, ((1, 1, 5, 5, 4, 4), 1): -0.06692388561661101, ((5, 5, 1, 2, 3, 3), 1): 0.7021692370124867, ((2, 2, 2, 2, 4, 4), 1): -0.1054864375166595, ((5, 5, 4, 4, 3, 3), 0): 0.18377761847049479, ((3, 3, 2, 4, 4, 4), 0): -3.4982473300484123, ((2, 2, 2, 4, 1, 1), 1): 0.4008387559321915, ((3, 3, 2, 5, 4, 4), 0): -0.48750000000000004, ((2, 2, 3, 1, 2, 2), 1): 0.3398471242183371, ((1, 1, 5, 4, 4, 4), 0): -0.25016130744340387, ((2, 2, 2, 3, 2, 2), 0): -0.07824948068668786, ((4, 4, 3, 5, 3, 3), 0): 0.3428785755166057, ((1, 1, 5, 3, 1, 1), 0): 0.23171093332545456, ((1, 1, 3, 2, 1, 1), 0): -0.5694501359690777, ((2, 2, 2, 4, 2, 2), 1): 0.18005604301761538, ((2, 2, 2, 5, 2, 2), 1): 0.37318211763180026, ((3, 3, 2, 2, 2, 2), 0): -0.22822413126679583, ((2, 2, 5, 3, 3, 3), True): 0.07943606521667337, ((4, 4, 2, 3, 3, 3), True): 0.31922287144018185, ((1, 1, 3, 4, 2, 2), 0): 0.38717026822122996, ((5, 5, 5, 5, 2, 2), 0): 0.006643621176101539, ((1, 1, 2, 2, 4, 4), 0): -0.22159451233744595, ((5, 5, 2, 4, 2, 2), 0): -1.0237097846537482, ((2, 2, 1, 3, 1, 1), 1): 0.728132168458137, ((4, 4, 5, 1, 1, 1), 1): -3.204410926860729e-06, ((3, 3, 4, 4, 3, 3), 0): 0.13157589507392123, ((1, 1, 1, 2, 2, 2), 0): 0.8580816214954446, ((1, 1, 1, 5, 2, 2), 1): 0.7842362238396431, ((4, 4, 3, 2, 4, 4), 0): 0.05121302984819951, ((5, 5, 1, 3, 2, 2), 1): 0.27595183261700823, ((3, 3, 3, 3, 2, 2), 0): 0.007433687913351408, ((2, 2, 1, 3, 3, 3), 0): 0.9263810015056547, ((5, 5, 1, 4, 2, 2), 0): 0.18549671863104739, ((3, 3, 5, 4, 2, 2), 1): 0.002206659152901849, ((5, 5, 4, 3, 1, 1), 0): 0.0, ((3, 3, 5, 3, 4, 4), 0): 0.06792394843766461, ((5, 5, 4, 3, 3, 3), 0): 0.09118928778423041, ((4, 4, 5, 4, 4, 4), 1): -0.4815583368612772, ((4, 4, 4, 4, 3, 3), 1): 0.04625955830584984, ((3, 3, 4, 2, 3, 3), 1): 0.014604611270481469, ((3, 3, 4, 1, 2, 2), 1): 0.20046504735156098, ((1, 1, 5, 3, 2, 2), 0): 0.2145707768238088, ((2, 2, 3, 5, 2, 2), 0): 0.3294312890352876, ((3, 3, 3, 4, 4, 4), 1): -2.125252653884214, ((5, 5, 5, 2, 2, 2), 0): 0.010665210954476687, ((2, 2, 5, 5, 3, 3), 1): 0.06773063068096152, ((4, 4, 2, 5, 2, 2), 0): -0.29276107326051526, ((4, 4, 4, 3, 4, 4), 1): -0.07267542888643413, ((4, 4, 3, 2, 1, 1), 0): -0.5, ((3, 3, 2, 5, 2, 2), 0): 0.05706381271795796, ((5, 5, 4, 5, 3, 3), 0): 0.05593759432380964, ((5, 5, 1, 2, 2, 2), 1): 0.46887781503014464, ((2, 2, 3, 3, 1, 1), True): 0.015801428762788765, ((3, 3, 2, 3, 2, 2), 1): 0.34595398975560887, ((3, 3, 2, 3, 1, 1), 0): -0.25, ((5, 5, 3, 4, 2, 2), 0): 0.09540923893742644, ((2, 2, 1, 1, 2, 2), 0): -0.22651447747668327, ((3, 3, 2, 1, 1, 1), 1): 0.28048127553914837, ((1, 1, 5, 5, 2, 2), True): 0.008678844880376783, ((5, 5, 3, 3, 4, 4), 0): 0.0047861469547466826, ((2, 2, 4, 2, 3, 3), 0): 0.19937123808910237, ((1, 1, 5, 3, 3, 3), False): 0.16368758961871416, ((4, 4, 4, 5, 2, 2), 0): -0.007279809639451717, ((2, 2, 2, 5, 4, 4), 1): -1.2630945213117588, ((3, 3, 1, 5, 3, 3), 0): 0.5013267720408312, ((1, 1, 4, 2, 2, 2), True): 0.07397769929207118, ((1, 1, 1, 1, 3, 3), 0): 0.03153928540114608, ((1, 1, 5, 2, 3, 3), 0): 0.21310672363523156, ((4, 4, 3, 4, 3, 3), 0): 0.33554790041587484, ((5, 5, 3, 4, 3, 3), 0): 0.27376378685616126, ((4, 4, 2, 4, 2, 2), 0): -0.6700771418625221, ((5, 5, 2, 4, 1, 1), 1): -0.25, ((2, 2, 1, 4, 1, 1), 0): 0.05499863183702472, ((4, 4, 5, 2, 2, 2), 1): 0.18598173531753448, ((3, 3, 4, 3, 4, 4), 0): 0.023739616420145604, ((2, 2, 1, 1, 3, 3), 0): 0.014641947767448758, ((1, 1, 5, 4, 1, 1), 0): 0.19865712173443717, ((5, 5, 4, 2, 3, 3), 0): -5.631758597423437e-05, ((4, 4, 1, 3, 3, 3), True): 0.45790684478560406, ((1, 1, 2, 3, 3, 3), 1): -0.6532295187243808, ((1, 1, 2, 5, 3, 3), 0): -0.7595288230170687, ((4, 4, 1, 1, 3, 3), 0): -0.21088275158165748, ((3, 3, 1, 4, 3, 3), 0): 0.6922233283283948, ((3, 3, 3, 1, 1, 1), 0): -0.4339988105850408, ((5, 5, 1, 4, 4, 4), 0): -0.07983379390427281, ((5, 5, 2, 4, 4, 4), 1): -0.47622065058168994, ((5, 5, 4, 1, 1, 1), 0): -0.5, ((2, 2, 1, 2, 3, 3), 0): 0.3343212216663185, ((1, 1, 4, 4, 4, 4), 0): -1.6329626804052133, ((5, 5, 4, 2, 2, 2), 0): -0.0009069398793676679, ((1, 1, 3, 2, 2, 2), 0): 0.3430968204876738, ((1, 1, 4, 3, 4, 4), 0): -0.1195699816061321, ((2, 2, 3, 4, 3, 3), 0): -0.3355734581943199, ((2, 2, 4, 5, 1, 1), 0): 0.03670887905467105, ((5, 5, 5, 4, 1, 1), 1): 0.0025852595941250156, ((2, 2, 3, 3, 3, 3), 1): -0.48763284388091727, ((3, 3, 2, 3, 4, 4), 1): -1.342311036319989, ((1, 1, 2, 4, 1, 1), True): 0.04183147357528383, ((2, 2, 3, 2, 1, 1), 1): 0.33130930086333504, ((2, 2, 2, 1, 3, 3), 0): 0.014316124176315573, ((4, 4, 3, 3, 2, 2), 0): -0.027293669941891932, ((1, 1, 3, 3, 4, 4), 0): -0.11686186514076582, ((2, 2, 4, 2, 1, 1), 0): -0.43184981026890945, ((4, 4, 3, 5, 4, 4), 1): -0.10946796763727121, ((1, 1, 1, 1, 1, 1), 0): -0.2232460807338233, ((3, 3, 5, 1, 2, 2), 1): 0.06333790663269546, ((4, 4, 4, 3, 1, 1), 1): 0.07593011334199512, ((2, 2, 4, 3, 3, 3), 0): 0.16463710484340693, ((3, 3, 5, 2, 1, 1), 1): 0.14853745849663264, ((5, 5, 3, 3, 2, 2), 1): -0.034751201666688214, ((5, 5, 3, 2, 2, 2), 1): -0.035035826514943906, ((2, 2, 4, 1, 2, 2), 0): 0.24289340259796915, ((5, 5, 5, 4, 2, 2), 0): 0.07108474808399386, ((3, 3, 4, 3, 2, 2), 0): 0.17382635940251115, ((5, 5, 2, 2, 3, 3), 1): 0.4385277824832573, ((3, 3, 4, 4, 2, 2), 1): 0.03459691770380222, ((3, 3, 4, 5, 2, 2), 1): -0.0012553604153937542, ((3, 3, 4, 5, 1, 1), 0): 0.029958855424762336, ((2, 2, 5, 3, 1, 1), 0): 0.17647041198115776, ((1, 1, 1, 4, 2, 2), True): 0.15740293722682483, ((3, 3, 3, 3, 3, 3), 1): 0.030233783673167876})



#number of bins to bucket each variable into
nbins=5
#probability of deviation from 'best' optimal q value solution (to make sure you are exploring enough of the state space)
prob_tryrandom=.001

class Learner:

    def __init__(self):
        self.last_state  = None
        self.last_action = None
        self.last_reward = None

    def reset(self):
        self.last_state  = None
        self.last_action = None
        self.last_reward = None


#gen_bins buckets a continuous state space provided by 'state' into 'numbins' number of bins and returns the output of a bucketed state values
    def gen_bins(self, state, numbins):
         tree_bot=numpy.linspace(seq_tree_min['bot'], seq_tree_max['bot'], numbins)
         tree_top=numpy.linspace(seq_tree_min['top'], seq_tree_max['top'],numbins)
         tree_dist=numpy.linspace(seq_tree_min['dist'], seq_tree_max['dist'], numbins)
         mon_vel=numpy.linspace(seq_monkey_min['vel'], seq_monkey_max['vel'], numbins)
         mon_bot=numpy.linspace(seq_monkey_min['bot'], seq_monkey_max['bot'], numbins)
         mon_top=numpy.linspace(seq_monkey_min['top'], seq_monkey_max['top'], numbins)


        #find indices for each variable for a given state
         tree_bot_bin=numpy.digitize([state['tree']['bot']], tree_bot)
         tree_top_bin=numpy.digitize([state['tree']['top']], tree_top)
         tree_dist_bin=numpy.digitize([state['tree']['dist']], tree_dist)

         mon_vel_bin=numpy.digitize([state['monkey']['vel']], mon_vel)
         mon_bot_bin=numpy.digitize([state['monkey']['bot']], mon_bot)
         mon_top_bin=numpy.digitize([state['monkey']['top']], mon_top)

         return tuple([int(tree_bot_bin), int(tree_top_bin), int(tree_dist_bin), int(mon_vel_bin), int(mon_bot_bin), int(mon_top_bin)])
    

    def action_callback(self, state):
        '''Implement this function to learn things and take actions.
        Return 0 if you don't want to jump and 1 if you do.'''

        #keep track of all visited states and resultant outcomes

        #if this is the first run, there is no 'last state' and we can make a random move
        if self.last_state== None:
            qval=0
            # qval= state_space_dict.get(tuple([learner.gen_bins(self.last_state, nbins), self.last_action]),0) +  self.last_reward + learning_rate*( discount_factor*max(state_space_dict.get(tuple([gen_bins(self.last_state, nbins), 0]), 0), state_space_dict.get(tuple([gen_bins(self.last_state, nbins), 1]), 0)) - state_space_dict[[gen_bins(self.last_state, nbins), self.last_action]])
            #do a random action since we dont have any Qvalues in dictionary yet
            new_action=npr.rand() < 0.5

        else:
            #implement Q learning
            qval= state_space_dict[tuple([learner.gen_bins(self.last_state, nbins), self.last_action])] +  learning_rate*(self.last_reward + discount_factor*max(state_space_dict.get(tuple([learner.gen_bins(state, nbins), 0]), 0), state_space_dict.get(tuple([learner.gen_bins(state, nbins), 1]), 0)) - state_space_dict.get(tuple([learner.gen_bins(self.last_state, nbins), self.last_action])))
            
            #assign qval to a previous state, action pair 
            state_space_dict[tuple([learner.gen_bins(self.last_state, nbins), self.last_action])]=qval

            # You might do some learning here based on the current state and the last state.

            # You'll need to take an action, too, and return it.
            # Return 0 to swing and 1 to jump.
            
            # consider two actions
            two_states=(state_space_dict.get(tuple([learner.gen_bins(state, nbins), 0]), 0), state_space_dict.get(tuple([learner.gen_bins(state, nbins), 1]), 0)) 
            #select the action that maximized the qvalue
            new_action = two_states.index(max(two_states))
            #select the 'non optimal' action tryrandom percent of the time to ensure that you exploring enough of the state space
            if (npr.rand()<prob_tryrandom):
                new_action= not new_action
        
        new_state  = state
        self.last_action = new_action
        self.last_state  = new_state

        return self.last_action

    def reward_callback(self, reward):
        '''This gets called so you can see what reward you get.'''

        self.last_reward = reward


iters = 10000
learner = Learner()
scorelist=[]

for ii in xrange(iters):
    learning_rate=(learning_rate_start+.5)/(iters/100)

    # Make a new monkey object.
    swing = SwingyMonkey(sound=False,            # Don't play sounds.
                         text="Epoch %d" % (ii), # Display the epoch on screen.
                         tick_length=1,          # Make game ticks super fast.
                         action_callback=learner.action_callback,
                         reward_callback=learner.reward_callback)

    # Loop until you hit something.
    while swing.game_loop():
        pass

    #store all values for mins and max  calcs -- only need to run once to get values for the find_state_bounds function which saves these values    
    scorelist.append(swing.get_state()['score'])

    #print swing.get_state()
    # Reset the state of the learner.
    learner.reset()

#calculate avg score for this approach
print numpy.average(scorelist)



# the function below finds the min/max values for each variable to deterime bin ranges
#def find_state_bounds():

    # print scorelist
    # seq_tree = [x['tree'] for x in scorelist]
    # seq_tree_min= min(seq_tree)
    # seq_tree_max= max(seq_tree)

    # seq_monkey = [x['monkey'] for x in scorelist]
    # seq_monkey_min= min(seq_monkey)
    # seq_monkey_max= max(seq_monkey)

    # print seq_tree_min
    # print seq_tree_max
    # print seq_monkey_min
    # print seq_monkey_max

#    return seq_tree_min, seq_tree_max, seq_monkey_min, seq_monkey_max

print len(state_space_dict)

print state_space_dict

print numpy.max(scorelist)

print scorelist




